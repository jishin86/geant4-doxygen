<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example wls</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example wls </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This application simulates the propagation of photons inside a Wave Length Shifting (WLS) fiber.</p>
<h1><a class="anchor" id="Examplewls_s1"></a>
Geometry Definition</h1>
<p>The default geometry is as follow:</p>
<ul>
<li>A perfect, bare, PMMA fiber: 0.5mm radius, 2m length at center(0,0,0) of the World.</li>
<li>A circular MPPC with 0.5mm radius at the +z end of the fiber</li>
<li>World and coupling materials are G4_AIR</li>
<li>Photons will always refracted out to coupling material before reaching MPPC</li>
<li>There are many flexible parameters that the user could specify. They are under the /WLS directory of help.</li>
</ul>
<h1><a class="anchor" id="Examplewls_s2"></a>
Material Choices</h1>
<p>There are several materials that the user can use for the fiber core, world and coupling.</p>
<p>They are:</p>
<ul>
<li>Vacuum (G4_Galactic)</li>
<li>Air (G4_AIR)</li>
<li>PMMA, n = 1.60</li>
<li>Pethylene, n = 1.49</li>
<li>FPethylene, n = 1.42</li>
<li>Polystyrene, n = 1.60</li>
<li>Silicone, n = 1.46</li>
</ul>
<h1><a class="anchor" id="Examplewls_s3"></a>
Photon Source</h1>
<p>This program uses the General Particle Source (<a class="el" href="../../d0/d8e/classG4GeneralParticleSource.html" title="Andrea Dotti Feb 2015 GPS messenger design requires some explanation for what distributions parameter...">G4GeneralParticleSource</a>) provided by GEANT4 for generating photons. The energy of the photon must be within 2.00 eV to 3.47 eV. For detail instruction on how to use the General Particle Source, please visit their home page at: <a href="http://reat.space.qinetiq.com/gps/">http://reat.space.qinetiq.com/gps/</a></p>
<h1><a class="anchor" id="Examplewls_s4"></a>
Hit</h1>
<p>A hit is registered when the photon is absorbed on the MPPC surface. Information stored in hit includes the local coordinate of the location the photon is absorbed on the MPPC, the global coordinate where the photon left the fiber and the transit time of the photon.</p>
<h1><a class="anchor" id="Examplewls_s5"></a>
Stepping Action</h1>
<p>The stepping action keeps track of the number of bounces a photon has gone through. In order to prevent infinite loop and extremely skewed rays taking up computing time, there is a limit of the number of bounces that a photon can go through before it is artificially killed. The default limit is 100,000. The user can set his/her own limit using the /stepping/setBounceLimit command. A value of 0 will turn off the limit. All photons artificially killed will have murderee flag turned on in their <a class="el" href="../../d3/d3f/classUserTrackInformation.html">UserTrackInformation</a>.</p>
<h1><a class="anchor" id="Examplewls_s6"></a>
Visualization</h1>
<p>To visualize a photon's trajectory, simply use vis.mac macro in interactive mode or in your own macro.</p>
<h1><a class="anchor" id="Examplewls_s7"></a>
main ()</h1>
<ul>
<li>Execute wls in 'batch' mode from macro files; <br  />
 you can enter an optional integer seed for batch mode <pre class="fragment">% wls wls.in (optional: enter an integer seed here)
</pre></li>
<li>wls in 'interactive mode' with visualization <pre class="fragment">% wls
....
Idle&gt; /control/execute vis.mac
Idle&gt; /run/beamOn 1
....
Idle&gt; exit
</pre> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
