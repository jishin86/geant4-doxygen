<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example TestEm4</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example TestEm4 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Plot energy deposited by 9 MeV photon beam in an homogeneous medium.</p>
<h1><a class="anchor" id="TestEm4_s1"></a>
GEOMETRY DEFINITION</h1>
<p>It is a cylinder of 5 cm radius filled with C6F6.</p>
<h1><a class="anchor" id="TestEm4_s2"></a>
PHYSICS LIST</h1>
<p>The particle list contains only gamma, electron,positron. The physics list contains the 'standard' electromagnetic processes.</p>
<h1><a class="anchor" id="TestEm4_s3"></a>
AN EVENT : THE PRIMARY GENERATOR</h1>
<p>The primary kinematic is a single 9 MeV gamma randomly shooted at the middle of the cylinder.</p>
<h1><a class="anchor" id="TestEm4_s4"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the main () (see <a class="el" href="../../de/d1d/TestEm4_8cc.html" title="Main program of the electromagnetic/TestEm4 example.">TestEm4.cc</a>). The initialisation of the drawing is done via the commands /vis/.. in the macro vis.mac. This macro is automatically read from the main in case of interactive running mode.</p>
<p>The detector has a default view which is a transversal view of the cylinder.</p>
<p>The tracks are drawn at the end of event, and erased at the end of run. Optionaly one can choose to draw all particles, only the charged one, or none. This command is defined in <a class="el" href="../../d9/dc4/classEventActionMessenger.html">EventActionMessenger</a> class.</p>
<h1><a class="anchor" id="TestEm4_s5"></a>
PHYSICS SURVEY</h1>
<p>The energy deposited in C6F6 is histogramed.</p>
<h1><a class="anchor" id="TestEm4_s6"></a>
HOW TO START ?</h1>
<ul>
<li>Execute TestEm4 in 'batch' mode from macro files <pre class="fragment">% TestEm4   TestEm4.in
</pre></li>
<li>Execute TestEm4 in 'interactive mode' with visualization <pre class="fragment">% TestEm4
....
Idle&gt; type your commands
....
Idle&gt; exit
</pre></li>
<li>Visualize the histogram (paw) <pre class="fragment">paw&gt; h/file 1 testem4.hbook
paw&gt; option stat
paw&gt; option logy
paw&gt; h/pl 1     
</pre></li>
</ul>
<h1><a class="anchor" id="TestEm4_s7"></a>
USING HISTOGRAMS</h1>
<p>The format of the histogram file can be : root (default), hbook, xml, csv, by selecting g4nnn.hh in RunAction.hh</p>
<h2><a class="anchor" id="TestEm4_subs1"></a>
Using hbook format</h2>
<p>Need a special treatement : the Cern Library must be installed and the environment variable CERNLIB correctly set. Then, <em>before</em> compiling, activate G4_USE_HBOOK in GNUmakefile and g4hbook.hh in RunAction.hh</p>
<h1><a class="anchor" id="TestEm4_s8-"></a>
RANDOM NUMBERS HANDLING</h1>
<p><a class="el" href="../../db/da0/namespaceCLHEP.html">CLHEP</a> provides several random number engines. In this example the Ranecu engine is choosen at beginning of the main (<a class="el" href="../../de/d1d/TestEm4_8cc.html" title="Main program of the electromagnetic/TestEm4 example.">TestEm4.cc</a>).</p>
<p>By default, <a class="el" href="../../d4/daa/classG4RunManager.html">G4RunManager</a> does not save the rndm seed. To do so the user must set in BeginOfRunAction: <a class="el" href="../../d4/daa/classG4RunManager.html#a599e9d031d2b12680e80aee6df3dfa2a">G4RunManager::GetRunManager()</a>-&gt;SetRandomNumberStore(true);</p>
<p>Then the rndm seed is systematically saved at beginning of run (currentRun.rndm) and beginning of event (currentEvent.rndm) Therefore, in case of abnormal end, the seed of the last event processed is available in currentEvent.rndm</p>
<p>Even in case of normal run processing, the user may wish to preserve the rndm seed of selected events. At any time in the event, put the following statement: </p><pre class="fragment">if (condition) G4RunManager::GetRunManager()-&gt;rndmSaveThisEvent();
</pre><p> currentEvent.rndm will be copied to runXXevntYY.rndm (see <a class="el" href="../../d8/db9/classSteppingAction.html#a0b072524d0b994cff18f76270ea1ba2a">SteppingAction::UserSteppingAction()</a> )</p>
<p>To restart a run from a given rndm seed, use the UI command : </p><pre class="fragment">/random/resetEngineFrom  fileName 
</pre><p>The macro rndmSeed.mac shows how to save and reset the random number seed between runs, from UI commands. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
