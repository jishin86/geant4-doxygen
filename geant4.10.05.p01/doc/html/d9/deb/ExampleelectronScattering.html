<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example electronScattering</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example electronScattering </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Electron scattering benchmark (T. O'Shea and B. Faddegon)</p>
<h1><a class="anchor" id="ExampleelectronScattering_s1"></a>
GEOMETRY DEFINITION</h1>
<p>The geometry is described in the enclosed documument : NRCC_electron_scat.pdf</p>
<ul>
<li>A "World" volume contains a "Frame" made of Air.</li>
<li>The Frame contains : ExitWindow, ScatterFoil, MonitorChbr, Bag.</li>
<li>The Bag contains a Gas volume, which contains 2 aluminium Rings.</li>
<li>The Scoring plane is the end-plane of the Frame</li>
</ul>
<p>The default geometry is constructed in <a class="el" href="../../dc/d5b/classDetectorConstruction.html" title="Simple detector construction with a box volume placed in a world.">DetectorConstruction</a> class. The parameters of the ScatterFoil (material and thickness) must be defined via 2 UI commands : see the macro <a class="el" href="../../d1/d09/scatter_8mac.html">scatter.mac</a></p>
<h1><a class="anchor" id="ExampleelectronScattering_s2"></a>
PHYSICS LIST</h1>
<p>Physics lists can be local (eg. in this example) or from G4 kernel physics_lists subdirectory.</p>
<p>Local physics lists: <br  />
</p><ul>
<li>"local" standard EM physics with current 'best' options setting. these options are explicited in <a class="el" href="../../d7/d78/classPhysListEmStandard.html">PhysListEmStandard</a></li>
<li>"standardSS" standard EM physics with single Coulomb scattering instead of multiple scattering <br  />
</li>
</ul>
<p>From geant4/source/physics_lists/builders: <br  />
</p><ul>
<li>"emstandard_opt0" recommended standard EM physics for LHC</li>
<li>"emstandard_opt1" best CPU performance standard physics for LHC</li>
<li>"emstandard_opt2" alternative models <br  />
</li>
<li>"emstandard_opt3" current state of art for EM physics analog to "local"above</li>
</ul>
<p>Physics lists and options can be (re)set with UI commands</p>
<p>Please, notice that options set through G4EmProcessOPtions are global, eg for all particle types. In G4 builders, it is shown how to set options per particle type.</p>
<h1><a class="anchor" id="ExampleelectronScattering_s3"></a>
PRIMARY GENERATOR : mono-enegetic pencil beam</h1>
<p>The primary kinematic consists of a single particle which hits the detector perpendicular to the input face (ExitWindow). The type of the particle and its energy are set in the <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> class, and can be changed via the G4 build-in commands of ParticleGun class. (see the macros provided with this example)</p>
<p>The incident beam has a Gaussian-shaped spatial distribution. The rms of the Gaussian can be define with an UI command built in <a class="el" href="../../d2/df6/classPrimaryGeneratorMessenger.html">PrimaryGeneratorMessenger</a>.</p>
<h1><a class="anchor" id="ExampleelectronScattering_s4"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the main () (see eelectronScattering.cc). The initialisation of the drawing is done via the commands in vis.mac In interactive session: </p><pre class="fragment">PreInit or Idle &gt; /control/execute vis.mac
</pre><p>The example has a default view which is a longitudinal view of the detector.</p>
<p>The tracks are drawn at the end of event, and erased at the end of run. Optionaly one can choose to draw all particles, only the charged, or none. This command is defined in <a class="el" href="../../d9/dc4/classEventActionMessenger.html">EventActionMessenger</a> class.</p>
<h1><a class="anchor" id="ExampleelectronScattering_s5"></a>
TRACKING</h1>
<p>One can limit 'by hand' the step lenght of the particle. As an example, this limitation is implemented as a 'full' process : see <a class="el" href="../../dd/dcc/classStepMax.html">StepMax</a> class and its Messenger. The '<a class="el" href="../../dd/dcc/classStepMax.html">StepMax</a> process' is registered in the Physics List.</p>
<h1><a class="anchor" id="ExampleelectronScattering_s6"></a>
DETECTOR RESPONSE</h1>
<p>At the end of a run, from the histogram(s), one can study different physics quantities, via the histograms defined below.</p>
<p>An ascii file corresponding to histo 4 (see below) is automatically written.</p>
<h1><a class="anchor" id="ExampleelectronScattering_s7"></a>
List of the built-in histograms</h1>
<p>The test contains 4 built-in 1D histograms, which are managed by the <a class="el" href="../../d4/dcd/classHistoManager.html">HistoManager</a> class and its Messenger. The histos can be individually activated with the command : </p><pre class="fragment">/analysis/h1/set id nbBins  valMin valMax unit 
</pre><p> where unit is the desired unit for the histo (MeV or keV, deg or mrad, etc..) (see the macros xxxx.mac).</p>
<ul>
<li>1 "(charged particles): projected angle at Scoring plane"</li>
<li>2 "(charged particles): dN/dS at Scoring plane"</li>
<li>3 "(charged particles): d(N/cost)/dS at Scoring plane"</li>
<li>4 "(charged particles): normalized d(N/cost)/dS at Scoring plane"</li>
<li>5 "(charged particles); scattering angle theta"</li>
<li>6 "(charged particles); measured scattering angle theta"</li>
</ul>
<p>The histograms can be viewed using ROOT or PAW.</p>
<p>One can control the name and format of the histograms file with the command: </p><pre class="fragment">/analysis/setFileName  name  (default nrccBenchmark)
</pre><p>It is possible to choose the format of the histogram file : root (default), xml, csv, by using namespace in HistoManager.hh <br  />
</p>
<p>It is also possible to print selected histograms on an ascii file: </p><pre class="fragment">/analysis/h1/setAscii id
</pre><p> All selected histos will be written on a file name.ascii (default nrccBenchmark)</p>
<h1><a class="anchor" id="ExampleelectronScattering_s8"></a>
HOW TO START ?</h1>
<ul>
<li>Execute electronScattering in 'batch' mode from macro files e.g. <pre class="fragment">% electronScattering   myMacro.mac
</pre></li>
<li>Execute electronScattering in 'interactive' mode with visualization e.g. <pre class="fragment">% electronScattering
Then type your commands, for instance :
Idle&gt; control/execute vis.mac
Idle&gt; run/beamOn 5
....
</pre> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
