<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: examples/extended/parallel/ThreadsafeScorers/include/G4atomic.hh File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="../../dir_03264a5acd3248a98ef078596ad9c178.html">extended</a></li><li class="navelem"><a class="el" href="../../dir_55ac91a3690f19a4ded16b5a9f182854.html">parallel</a></li><li class="navelem"><a class="el" href="../../dir_5aa32ff17b2573ab2af28d0757c61569.html">ThreadsafeScorers</a></li><li class="navelem"><a class="el" href="../../dir_aae4b2e72c5a0ee3a42093634a370a42.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">G4atomic.hh File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definition of the G4atomic class.  
<a href="#details">More...</a></p>

<p><a href="../../d2/d15/G4atomic_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab5e73b9a55d66abfbba92483d5cfcf54"><td class="memTemplParams" colspan="2">template&lt;typename _Tp &gt; </td></tr>
<tr class="memitem:ab5e73b9a55d66abfbba92483d5cfcf54"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/d15/G4atomic_8hh.html#ab5e73b9a55d66abfbba92483d5cfcf54">G4atomic</a> = _Tp</td></tr>
<tr class="memdesc:ab5e73b9a55d66abfbba92483d5cfcf54"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an friendly implementation of the STL atomic class.  <a href="../../d2/d15/G4atomic_8hh.html#ab5e73b9a55d66abfbba92483d5cfcf54">More...</a><br /></td></tr>
<tr class="separator:ab5e73b9a55d66abfbba92483d5cfcf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definition of the G4atomic class. </p>

<p class="definition">Definition in file <a class="el" href="../../d2/d15/G4atomic_8hh_source.html">G4atomic.hh</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ab5e73b9a55d66abfbba92483d5cfcf54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e73b9a55d66abfbba92483d5cfcf54">&#9670;&nbsp;</a></span>G4atomic</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Tp &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../d2/d15/G4atomic_8hh.html#ab5e73b9a55d66abfbba92483d5cfcf54">G4atomic</a> =  _Tp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is an friendly implementation of the STL atomic class. </p>
<p>This class has the same interface as the STL atomic but can be used in an extremely similar fashion to plain old data (POD) types. In other words, the copy constructor and assignment operators are defined, and a load() does not need to be called to get the POD value.</p>
<p>IMPORTANT: Care must be taken when using this class as a RHS term. The best use case scenario for this class is as a LHS term that is only used as a RHS term outside of the multithreaded operations on it.</p>
<p>FOR EXAMPLE: Proper use: Goal: sum energy deposited in run Impl: Is a member variable of derived <a class="el" href="../../d0/d77/classG4VUserActionInitialization.html">G4VUserActionInitialization</a> (of which there will always be just one instance). Accumulate thread-local energy deposit into <a class="el" href="../../da/d3b/classEventAction.html" title="Event action class.">EventAction</a>, add to ActionInit at end of event, print sum on master EndOfRunAction Why: the sum is only a LHS term Improper use: Goal: compute error during event processing Impl: sum += x; sum_sq += x*x; counts++; error = sqrt(sum_sq/(sum*sum) - 1/counts; (where sum, sum_sq, counts are G4atomics) Why: This will work but error can/will be wrong when sum, sum_sq, and counts are updated by another thread while error is being calculated, i.e. they are used as RHS terms </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d15/G4atomic_8hh_source.html#l00264">264</a> of file <a class="el" href="../../d2/d15/G4atomic_8hh_source.html">G4atomic.hh</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
