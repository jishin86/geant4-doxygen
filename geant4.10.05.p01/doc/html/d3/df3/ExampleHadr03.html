<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example Hadr03</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example Hadr03 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>How to compute total cross section from the direct evaluation of the mean free path ( see below, item Physics).</li>
<li>How to identify nuclear reactions.</li>
<li>How to plot energy spectrum of secondary particles. <br  />
</li>
</ul>
<h1><a class="anchor" id="Hadr03_s1"></a>
GEOMETRY DEFINITION</h1>
<p>It is a single box representing a 'semi infinite' homogeneous medium. Two parameters define the geometry :</p><ul>
<li>the material of the box,</li>
<li>the (full) size of the box.</li>
</ul>
<p>The default geometry (10 m of molybdenum) is built in <a class="el" href="../../dc/d5b/classDetectorConstruction.html" title="Simple detector construction with a box volume placed in a world.">DetectorConstruction</a>, but the above parameters can be changed interactively via commands defined in <a class="el" href="../../d6/d1f/classDetectorMessenger.html" title="Messenger class that defines commands for DetectorConstruction.">DetectorMessenger</a>.</p>
<h1><a class="anchor" id="Hadr03_s2"></a>
PHYSICS LIST</h1>
<p>The <a class="el" href="../../d2/daa/classPhysicsList.html">PhysicsList</a> contains builders for hadronic interactions. Predefined G4 PhysicsConstructors or 'local' PhysicsConstructors can be used (see geant4/source/physics_lists or example runAndEvent/RE04).</p>
<p>In order not to introduce 'artificial' constraints on the step size, electromagnetic processes are not registered: there is no continuous energy loss. <br  />
</p>
<p>Several hadronic physics options are controlled by environment variables. To trigger them, an envHadronic.csh has been added in this example. One must select the options wished, and do </p><pre class="fragment">        source envHadronic.csh  (or sh)
</pre><p> <br  />
</p>
<h1><a class="anchor" id="Hadr03_s3"></a>
AN EVENT : THE PRIMARY GENERATOR</h1>
<p>The primary kinematic consists of a single particle starting at the edge of the box. The type of the particle and its energy are set in <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> (neutron 1 MeV), and can be changed via the G4 build-in commands of ParticleGun class (see the macros provided with this example).</p>
<h1><a class="anchor" id="Hadr03_s4"></a>
PHYSICS</h1>
<p>An event is killed at the first interaction of the incident paticle. The absorption length, also called mean free path, is computed as the mean value of the track length of the incident particle. This is why the medium must be 'infinite' : to be sure that interaction occurs at any events.</p>
<p>The result is compared with the 'input' value, i.e. with the cross sections given by <a class="el" href="../../da/d41/classG4HadronicProcessStore.html">G4HadronicProcessStore</a> and used by Geant4.</p>
<p>The list of nuclear reactions that occured is printed. (the number of gamma of deexcitation is not printed).</p>
<p>Then, comes the total list of generated particles and ions. <br  />
 The energy spectrum of the scattered particle (if any) and of the created secondaries are plotted (see <a class="el" href="../../d8/db9/classSteppingAction.html">SteppingAction</a>).</p>
<p>Momentum conservation is checked as : </p><pre class="fragment">   momentum balance = modulus(P_out - P_in)
</pre><p>A set of macros defining various run conditions are provided. The processes can be actived/inactived in order to survey the processes individually.</p>
<h1><a class="anchor" id="Hadr03_s5"></a>
HISTOGRAMS</h1>
<p>The test contains 12 built-in 1D histograms, which are managed by G4AnalysisManager and its Messenger. The histos can be individually activated with the command : /analysis/h1/set id nbBins valMin valMax unit where unit is the desired unit for the histo (MeV or keV, etc..) (see the macros xxxx.mac).</p>
<ul>
<li>1 : "kinetic energy of scattered primary particle"</li>
<li>2 : "kinetic energy of gamma"</li>
<li>3 : "kinetic energy of neutrons"</li>
<li>4 : "kinetic energy of protons"</li>
<li>5 : "kinetic energy of deuterons"</li>
<li>6 : "kinetic energy of alphas"</li>
<li>7 : "kinetic energy of nuclei"</li>
<li>8 : "kinetic energy of mesons"</li>
<li>9 : "kinetic energy of baryons"</li>
<li>10 : "Q = Ekin out - Ekin in" <br  />
</li>
<li>11 : "Pbalance = mag(P_out - P_in)"</li>
<li>12 : "atomic mass of nuclei" <br  />
</li>
</ul>
<p>The histograms are managed by the <a class="el" href="../../d4/dcd/classHistoManager.html">HistoManager</a> class and its Messenger. The histos can be individually activated with the command : </p><pre class="fragment">/analysis/h1/set id nbBins  valMin valMax unit 
</pre><p> where unit is the desired unit for the histo (MeV or keV, deg or mrad, etc..)</p>
<p>One can control the name of the histograms file with the command: </p><pre class="fragment">/analysis/setFileName  name  (default Hadr03)
</pre><p>It is possible to choose the format of the histogram file : root (default), xml, csv, by using namespace in HistoManager.hh</p>
<p>It is also possible to print selected histograms on an ascii file: </p><pre class="fragment">/analysis/h1/setAscii id
</pre><p> All selected histos will be written on a file name.ascii (default Hadr03)</p>
<h1><a class="anchor" id="Hadr03_s6"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the <a class="el" href="../../d8/d8f/genwindef_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>. The initialisation of the drawing is done via the commands /vis/... in the macro vis.mac. To get visualisation: </p><pre class="fragment">&gt; /control/execute vis.mac
</pre><p>The detector has a default view which is a longitudinal view of the box. The tracks are drawn at the end of event, and erased at the end of run.</p>
<h1><a class="anchor" id="Hadr03_s7"></a>
HOW TO START ?</h1>
<p>Execute Hadr03 in 'batch' mode from macro files : </p><pre class="fragment">% Hadr03   inelastic.mac
</pre><p>Execute Hadr03 in 'interactive mode' with visualization : </p><pre class="fragment">% Hadr03
Idle&gt; control/execute vis.mac
....
Idle&gt; type your commands
....
Idle&gt; exit
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
