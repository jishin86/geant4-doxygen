<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example clustering</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example clustering </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Y. Perrot, H. Payno <br  />
(a) <a href="#" onclick="location.href='mai'+'lto:'+'ysp'+'er'+'rot'+'@g'+'mai'+'l.'+'com'; return false;">ysper<span style="display: none;">.nosp@m.</span>rot@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a> <br  />
(b) <a href="#" onclick="location.href='mai'+'lto:'+'hen'+'ri'+'.pa'+'yn'+'o@g'+'ma'+'il.'+'co'+'m'; return false;">henri<span style="display: none;">.nosp@m.</span>.pay<span style="display: none;">.nosp@m.</span>no@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a> <br  />
Laboratoire de Physique Corpusculaire de Clermont-Ferrand, CNRS/IN2P3 - Clermont University, France</dd></dl>
<p>This example is provided by the Geant4-DNA collaboration.</p>
<p>These processes and models are further described at: <a href="http://geant4-dna.org">http://geant4-dna.org</a></p>
<p>Any report or published results obtained using the Geant4-DNA software shall cite the following Geant4-DNA collaboration publications: <br  />
Phys. Med. 31 (2015) 861-874 <br  />
Med. Phys. 37 (2010) 4692-4708</p>
<h1><a class="anchor" id="clustering_s1"></a>
Introduction</h1>
<p>The clustering example simulates protons tracks in liquid water using Geant4-DNA processes and models. Energy deposit are clustered with a dedicated clustering algorithm to assess strand breaks. The default parameters of the clustering algorithm have been tuned to reproduce data published by Francis et al. 2011 Comput. Meth. Programs. Biomed. 2011 101(3)</p>
<p>Any report or published results obtained using the Geant4-DNA software shall cite the following Geant4-DNA collaboration publication: Med. Phys. 37 (2010) 4692-4708</p>
<h1><a class="anchor" id="clustering_s2"></a>
Set-up</h1>
<p>It is similar to the geometry set-up proposed in Francis et al. 2011 Comput. Meth. Programs. Biomed. 2011 101(3). It consists in a World volume containing a Target box made of liquid water of 1µm x 1µm x 0.5 µm. Energy deposits in the Target are registered (see SteppingAction.cc) and the clustering algorithm is run at the end of each event (see EventAction.cc)</p>
<h1><a class="anchor" id="clustering_s3"></a>
How to run the example</h1>
<p>To get help, run:</p>
<pre class="fragment">&gt; ./clustering -h
</pre><p>In interactive mode, run:</p>
<pre class="fragment">&gt; ./clustering -gui
</pre><p>In batch mode , run:</p>
<pre class="fragment">&gt; ./clustering [-mac run.in] [-mt numberofThreads]
</pre><p>Two macros are available:</p>
<ul>
<li>run.in: shoots 1000 protons of 500 keV</li>
<li>runOneEvent.in: shoots one proton of 500 keV</li>
</ul>
<p>All UI clustering commands in these macros are described below in section 'More information'.</p>
<h1><a class="anchor" id="clustering_s4"></a>
Simulation output</h1>
<p>The output results consists in a clusters_output.root file, containing for each event:</p><ul>
<li>the number of single strand break</li>
<li>the number of complex single strand break</li>
<li>the number of double strand break</li>
<li>the cluster size distribution</li>
<li>the absorbed dose in the Target</li>
</ul>
<h1><a class="anchor" id="clustering_s5"></a>
More information</h1>
<p>Specific classes are available in this example:</p>
<ul>
<li><a class="el" href="../../d5/dab/classClusteringAlgo.html">ClusteringAlgo</a>: contains the core clustering algorithm</li>
<li><a class="el" href="../../d9/dcd/classClusteringAlgoMessenger.html">ClusteringAlgoMessenger</a>: defines all UI commands to tune the clustering algorithm</li>
</ul>
<pre class="fragment">/clustering/algo/setMinPts
</pre><p> Minimal number of points to create a cluster</p>
<pre class="fragment">/clustering/algo/setSelectionProb
</pre><p> Probability to select potential damage according to the geometry</p>
<pre class="fragment">/clustering/algo/setEps
</pre><p> Maximal distance between points to create a cluster</p>
<pre class="fragment">/clustering/algo/setEmin
</pre><p> Energy to have a probability to create a strand break = 0</p>
<pre class="fragment">/clustering/algo/setEmax
</pre><p> Energy to have a probability to create a strand break = 1 allow</p>
<ul>
<li><a class="el" href="../../dd/d2c/classClusterSBPoints.html" title="define a cluster of SB Points">ClusterSBPoints</a>: defines a cluster of strand break points</li>
<li>CommandLineParser: defines a parser for command line control as in other Geant4-DNA examples</li>
<li><a class="el" href="../../de/d88/classRunInitObserver.html">RunInitObserver</a>: allows initializations at new run (as in pdb4dna and microdosimetry)</li>
<li><a class="el" href="../../d9/dcb/classSBPoint.html" title="defines a point of energy deposition which defines a damage to the DNA.">SBPoint</a>: defines a class for point of energy deposition</li>
</ul>
<h1><a class="anchor" id="clustering_s6"></a>
Acknowledgments</h1>
<p>Ziad Francis for discussion about clustering algorithm. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
