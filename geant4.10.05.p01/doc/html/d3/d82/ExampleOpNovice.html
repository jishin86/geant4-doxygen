<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example OpNovice</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example OpNovice </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example presently illustrates the following basic concepts, and in particular (indicated with ***), how to use G4 for optical photon generation and transport. Other extended example of what is possible in Geant4 with optical photons can be found at examples/extended/optical/LXe and wls</p>
<h1><a class="anchor" id="ExampleOpNovice_s1"></a>
main()</h1>
<p>Define Random Number Engine and initial seed</p>
<h1><a class="anchor" id="ExampleOpNovice_s2"></a>
G4VUserPhysicsList</h1>
<ul>
<li>Define particles; including - *** <a class="el" href="../../d9/d8f/classG4OpticalPhoton.html">G4OpticalPhoton</a> ***</li>
<li>Define processes; including<ul>
<li>*** <a class="el" href="../../db/d01/classG4Cerenkov.html">G4Cerenkov</a> ***</li>
<li>*** <a class="el" href="../../d5/d96/classG4Scintillation.html">G4Scintillation</a> ***</li>
<li>*** <a class="el" href="../../dc/df8/classG4OpAbsorption.html">G4OpAbsorption</a> ***</li>
<li>*** <a class="el" href="../../d3/dff/classG4OpRayleigh.html">G4OpRayleigh</a> ***</li>
<li>*** <a class="el" href="../../dc/d81/classG4OpBoundaryProcess.html">G4OpBoundaryProcess</a> ***</li>
</ul>
</li>
</ul>
<p>A messenger command allows to define interactivly the verbose level and the maximum number of Cerenkov photons per step (see for instance OpNovice.in)</p>
<h1><a class="anchor" id="ExampleOpNovice_s3"></a>
G4VUserDetectorConstruction</h1>
<ul>
<li>Define material: Air and Water</li>
<li>Define simple G4box geometry<ul>
<li>*** add <a class="el" href="../../da/dbc/classG4MaterialPropertiesTable.html">G4MaterialPropertiesTable</a> to <a class="el" href="../../d5/de4/classG4Material.html">G4Material</a> ***</li>
<li>*** define <a class="el" href="../../dd/d73/classG4LogicalSurface.html">G4LogicalSurface(s)</a> ***</li>
<li>*** define <a class="el" href="../../d4/d86/classG4OpticalSurface.html">G4OpticalSurface</a> ***</li>
<li>*** add <a class="el" href="../../da/dbc/classG4MaterialPropertiesTable.html">G4MaterialPropertiesTable</a> to <a class="el" href="../../d4/d86/classG4OpticalSurface.html">G4OpticalSurface</a> ***</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="ExampleOpNovice_s4"></a>
G4VUserPrimaryGeneratorAction</h1>
<p>Use <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> to shoot a charge particle into a Cerenkov radiator</p>
<p>A messenger command allows to define interactivly the polarization of an primary optical photon (see for instance <a class="el" href="../../d7/ded/optPhoton_8mac.html">optPhoton.mac</a>)</p>
<h1><a class="anchor" id="ExampleOpNovice_s5"></a>
G4UserRunAction</h1>
<ul>
<li>Define <a class="el" href="../../da/d4f/classG4Timer.html">G4Timer</a> (start/stop)</li>
<li>Set verbose levels</li>
</ul>
<h1><a class="anchor" id="ExampleOpNovice_s6"></a>
G4UserStackingAction</h1>
<p>Show how to count the number of secondary particles in an event</p>
<h1><a class="anchor" id="ExampleOpNovice_s7"></a>
Visualisation</h1>
<p>The Visualization Manager is set in the <a class="el" href="../../d8/d8f/genwindef_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>. The initialisation of the drawing is done via a set of /vis/ commands in the macro vis.mac. This macro is automatically read from the main in case of interactive running mode.</p>
<p>The detector has a default view which is a longitudinal view of the tank. <br  />
 The tracks are drawn at the end of event, and erased at the end of run.</p>
<h1><a class="anchor" id="ExampleOpNovice_s8"></a>
How to start</h1>
<ul>
<li><p class="startli">compile and link to generate an executable </p><pre class="fragment">        % cd OpNovice
        % gmake
</pre><p class="startli">This example handles the program arguments in a new way. It can be run with the following optional arguments: </p><pre class="fragment">   % OpNovice [-m macro ] [-u UIsession] [-t nThreads]
</pre><p class="startli">The -t option is available only in multi-threading mode and it allows the user to override the Geant4 default number of threads. The number of threads can be also set via G4FORCENUMBEROFTHREADS environment variable which has the top priority.</p>
</li>
<li>execute OpNovice in 'batch' mode from macro files <pre class="fragment">   % OpNovice -m OpNovice.in
</pre></li>
<li>execute OpNovice in 'interactive mode' with visualization <pre class="fragment">% OpNovice
....
Idle&gt; type your commands. For instance:
Idle&gt; /control/execute optPhoton.mac
....
Idle&gt; exit
</pre> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
