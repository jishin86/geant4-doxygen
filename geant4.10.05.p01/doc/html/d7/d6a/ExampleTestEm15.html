<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example TestEm15</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example TestEm15 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>How to compute and plot the final state of Multiple Scattering considered as an isolated process. The method is exposed below : see <a class="el" href="../../d7/d6a/ExampleTestEm15.html#TestEm15_s4">PHYSICS</a>.</p>
<h1><a class="anchor" id="TestEm15_s1"></a>
GEOMETRY DEFINITION</h1>
<p>It is a single box representing a 'semi infinite' homogeneous medium. Two parameters define the geometry :</p><ul>
<li>the material of the box,</li>
<li>the (full) size of the box.</li>
</ul>
<p>The default geometry (100 m of water) is constructed in <a class="el" href="../../dc/d5b/classDetectorConstruction.html" title="Simple detector construction with a box volume placed in a world.">DetectorConstruction</a>, but the above parameters can be changed interactively via the commands defined in <a class="el" href="../../d6/d1f/classDetectorMessenger.html" title="Messenger class that defines commands for DetectorConstruction.">DetectorMessenger</a>.</p>
<h1><a class="anchor" id="TestEm15_s2"></a>
PHYSICS LIST</h1>
<p>The physics list contains the standard electromagnetic processes. In order not to introduce 'articicial' constraints on the step size, there is no limitation from the maximum energy lost per step. <br  />
</p>
<h1><a class="anchor" id="TestEm15_s3"></a>
AN EVENT : THE PRIMARY GENERATOR</h1>
<p>The primary kinematic consists of a single particle starting at the edge of the box. The type of the particle and its energy are set in <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> (1 MeV electron), and can be changed via the G4 build-in commands of <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> class (see the macros provided with this example).</p>
<h1><a class="anchor" id="TestEm15_s4"></a>
PHYSICS</h1>
<p>All discrete processes are inactivated (see provided macros), so that Multiple Scattering is 'forced' to determine the first step of the primary particle. The step size and the final state are computed and plotted. Then the event is immediately killed.</p>
<p>The result is compared with the 'input' data, i.e. with the cross sections stored in the PhysicsTables and used by Geant4.</p>
<p>The stepMax command provides an additionnal control of the step size of the multiple scattering.</p>
<h1><a class="anchor" id="TestEm15_s5"></a>
HISTOGRAMS</h1>
<p>The test contains 9 built-in 1D histograms, which are managed by the <a class="el" href="../../d4/dcd/classHistoManager.html">HistoManager</a> class and its Messenger. The histos can be individually activated with the command : </p><pre class="fragment">/analysis/h1/set id nbBins  valMin valMax unit 
</pre><p> <br  />
 where unit is the desired unit for the histo (MeV or keV, etc..) (see the macros xxxx.mac).</p>
<ul>
<li>1 : Multiple Scattering. True step length</li>
<li>2 : Multiple Scattering. Geom step length</li>
<li>3 : Multiple Scattering. Ratio geomSl/trueSl</li>
<li>4 : Multiple Scattering. Lateral displacement: radius</li>
<li>5 : Multiple Scattering. Lateral displac: psi_space</li>
<li>6 : Multiple Scattering. Angular distrib: theta_plane</li>
<li>7 : Multiple Scattering. Phi-position angle</li>
<li>8 : Multiple Scattering. Phi-direction angle</li>
<li>9 : Multiple Scattering. Correlation: cos(phiPos-phiDir)</li>
</ul>
<p>The histograms are managed by the <a class="el" href="../../d4/dcd/classHistoManager.html">HistoManager</a> class and its Messenger. The histos can be individually activated with the command : </p><pre class="fragment">/analysis/h1/set id nbBins  valMin valMax unit 
</pre><p> where unit is the desired unit for the histo (MeV or keV, deg or mrad, etc..)</p>
<p>One can control the name of the histograms file with the command: </p><pre class="fragment">/analysis/setFileName  name  (default testem15)
</pre><p>It is possible to choose the format of the histogram file : root (default), hbook, xml, csv, by using namespace in HistoManager.hh <br  />
</p>
<p>It is also possible to print selected histograms on an ascii file: </p><pre class="fragment">/analysis/h1/setAscii id
</pre><p> All selected histos will be written on a file name.ascii (default testem15)</p>
<h1><a class="anchor" id="TestEm15_s6"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the main () (see <a class="el" href="../../d0/d4f/TestEm15_8cc.html" title="Main program of the electromagnetic/TestEm15 example.">TestEm15.cc</a>). The initialisation of the drawing is done via the commands /vis/... in the macro vis.mac. To get visualisation: </p><pre class="fragment">&gt; /control/execute vis.mac
</pre><p>The detector has a default view which is a longitudinal view of the box.</p>
<p>The tracks are drawn at the end of event, and erased at the end of run.</p>
<h1><a class="anchor" id="TestEm15_s7-"></a>
HOW TO START ?</h1>
<ul>
<li>Execute TestEm15 in 'batch' mode from macro files : <pre class="fragment">% TestEm15   compt.mac
</pre></li>
<li>Execute TestEm15 in 'interactive mode' with visualization : <pre class="fragment">% TestEm15
Idle&gt; control/execute vis.mac
....
Idle&gt; type your commands
....
Idle&gt; exit
</pre> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
