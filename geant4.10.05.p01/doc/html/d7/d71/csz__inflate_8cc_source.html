<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: source/analysis/g4tools/src/csz_inflate.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../dir_cdf958bd06abcc7d9575cbcdf6f4a166.html">analysis</a></li><li class="navelem"><a class="el" href="../../dir_8d80df538b71dd0d74593e81a5dcf744.html">g4tools</a></li><li class="navelem"><a class="el" href="../../dir_15018ab190e248c666ed865fc63b6c86.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">csz_inflate.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d71/csz__inflate_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/*G.Barrand : static int qflag = 0; */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* inflate.c -- put in the public domain by Mark Adler</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">   version c14o, 23 August 1994 */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* You can do whatever you like with this source file, though I would</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   prefer that if you modify it and redistribute it that you include</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   comments to that effect with your name and the date.  Thank you.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">   History:</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   vers    date          who           what</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">   ----  ---------  --------------  ------------------------------------</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">    a    ~~ Feb 92  M. Adler        used full (large, one-step) lookup table</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">    b1   21 Mar 92  M. Adler        first version with partial lookup tables</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">    b2   21 Mar 92  M. Adler        fixed bug in fixed-code blocks</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">    b3   22 Mar 92  M. Adler        sped up match copies, cleaned up some</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">    b4   25 Mar 92  M. Adler        added prototypes; removed window[] (now</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">                                    is the responsibility of unzip.h--also</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">                                    changed name to slide[]), so needs diffs</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">                                    for unzip.c and unzip.h (this allows</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">                                    compiling in the small model on MSDOS);</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">                                    fixed cast of q in huft_build();</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">    b5   26 Mar 92  M. Adler        got rid of unintended macro recursion.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">    b6   27 Mar 92  M. Adler        got rid of nextbyte() routine.  fixed</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">                                    bug in inflate_fixed().</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">    c1   30 Mar 92  M. Adler        removed lbits, dbits environment variables.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">                                    changed BMAX to 16 for explode.  Removed</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">                                    OUTB usage, and replaced it with flush()--</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">                                    this was a 20% speed improvement!  Added</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">                                    an explode.c (to replace unimplod.c) that</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">                                    uses the huft routines here.  Removed</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">                                    register union.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">    c2    4 Apr 92  M. Adler        fixed bug for file sizes a multiple of 32k.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">    c3   10 Apr 92  M. Adler        reduced memory of code tables made by</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">                                    huft_build significantly (factor of two to</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">                                    three).</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">    c4   15 Apr 92  M. Adler        added NOMEMCPY do kill use of memcpy().</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">                                    worked around a Turbo C optimization bug.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">    c5   21 Apr 92  M. Adler        added the WSIZE #define to allow reducing</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">                                    the 32K window size for specialized</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">                                    applications.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">    c6   31 May 92  M. Adler        added some typecasts to eliminate warnings</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    c7   27 Jun 92  G. Roelofs      added some more typecasts (444:  MSC bug).</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    c8    5 Oct 92  J-l. Gailly     added ifdef&#39;d code to deal with PKZIP bug.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    c9    9 Oct 92  M. Adler        removed a memory error message (~line 416).</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    c10  17 Oct 92  G. Roelofs      changed ULONG/UWORD/byte to ulg/ush/uch,</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">                                    removed old inflate, renamed inflate_entry</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">                                    to inflate, added Mark&#39;s fix to a comment.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">   c10.5 14 Dec 92  M. Adler        fix up error messages for incomplete trees.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">    c11   2 Jan 93  M. Adler        fixed bug in detection of incomplete</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">                                    tables, and removed assumption that EOB is</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">                                    the longest code (bad assumption).</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">    c12   3 Jan 93  M. Adler        make tables for fixed blocks only once.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">    c13   5 Jan 93  M. Adler        allow all zero length codes (pkzip 2.04c</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">                                    outputs one zero length code for an empty</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">                                    distance tree).</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">    c14  12 Mar 93  M. Adler        made inflate.c standalone with the</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">                                    introduction of inflate.h.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">   c14b  16 Jul 93  G. Roelofs      added (unsigned) typecast to w at 470.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">   c14c  19 Jul 93  J. Bush         changed v[N_MAX], l[288], ll[28x+3x] arrays</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">                                    to static for Amiga.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">   c14d  13 Aug 93  J-l. Gailly     de-complicatified Mark&#39;s c[*p++]++ thing.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">   c14e   8 Oct 93  G. Roelofs      changed memset() to memzero().</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">   c14f  22 Oct 93  G. Roelofs      renamed quietflg to qflag; made Trace()</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">                                    conditional; added inflate_free().</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">   c14g  28 Oct 93  G. Roelofs      changed l/(lx+1) macro to pointer (Cray bug)</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">   c14h   7 Dec 93  C. Ghisler      huft_build() optimizations.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">   c14i   9 Jan 94  A. Verheijen    set fixed_t{d,l} to NULL after freeing;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">                    G. Roelofs      check NEXTBYTE macro for EOF.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">   c14j  23 Jan 94  G. Roelofs      removed Ghisler &quot;optimizations&quot;; ifdef&#39;d</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">                                    EOF check.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">   c14k  27 Feb 94  G. Roelofs      added some typecasts to avoid warnings.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">   c14l   9 Apr 94  G. Roelofs      fixed split comments on preprocessor lines</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">                                    to avoid bug in Encore compiler.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">   c14m   7 Jul 94  P. Kienitz      modified to allow assembler version of</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">                                    inflate_codes() (define ASM_INFLATECODES)</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">   c14n  22 Jul 94  G. Roelofs      changed fprintf to FPRINTF for DLL versions</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">   c14o  23 Aug 94  C. Spieler      added a newline to a debug statement;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">                    G. Roelofs      added another typecast to avoid MSC warning</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   Inflate deflated (PKZIP&#39;s method 8 compressed) data.  The compression</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   method searches for as much of the current string of bytes (up to a</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   length of 258) in the previous 32K bytes.  If it doesn&#39;t find any</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   matches (of at least length 3), it codes the next byte.  Otherwise, it</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">   codes the length of the matched string and its distance backwards from</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">   the current position.  There is a single Huffman code that codes both</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">   single bytes (called &quot;literals&quot;) and match lengths.  A second Huffman</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">   code codes the distance information, which follows a length code.  Each</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">   length or distance code actually represents a base value and a number</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">   of &quot;extra&quot; (sometimes zero) bits to get to add to the base value.  At</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">   the end of each deflated block is a special end-of-block (EOB) literal/</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   length code.  The decoding process is basically: get a literal/length</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">   code; if EOB then done; if a literal, emit the decoded byte; if a</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">   length then get the distance and emit the referred-to bytes from the</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">   sliding window of previously emitted data.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">   There are (currently) three kinds of inflate blocks: stored, fixed, and</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">   dynamic.  The compressor outputs a chunk of data at a time and decides</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">   which method to use on a chunk-by-chunk basis.  A chunk might typically</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">   be 32K to 64K, uncompressed.  If the chunk is uncompressible, then the</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">   &quot;stored&quot; method is used.  In this case, the bytes are simply stored as</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   is, eight bits per byte, with none of the above coding.  The bytes are</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">   preceded by a count, since there is no longer an EOB code.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   If the data is compressible, then either the fixed or dynamic methods</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   are used.  In the dynamic method, the compressed data is preceded by</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">   an encoding of the literal/length and distance Huffman codes that are</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">   to be used to decode this block.  The representation is itself Huffman</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">   coded, and so is preceded by a description of that code.  These code</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">   descriptions take up a little space, and so for small blocks, there is</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">   a predefined set of codes, called the fixed codes.  The fixed method is</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">   used if the block ends up smaller that way (usually for quite small</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">   chunks); otherwise the dynamic method is used.  In the latter case, the</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">   codes are customized to the probabilities in the current block and so</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">   can code it much better than the pre-determined fixed codes can.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">   The Huffman codes themselves are decoded using a mutli-level table</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   lookup, in order to maximize the speed of decoding plus the speed of</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   building the decoding tables.  See the comments below that precede the</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">   lbits and dbits tuning parameters.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   Notes beyond the 1.93a appnote.txt:</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   1. Distance pointers never point before the beginning of the output</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">      stream.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   2. Distance pointers can point back across blocks, up to 32k away.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">   3. There is an implied maximum of 7 bits for the bit length table and</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">      15 bits for the actual data.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">   4. If only one code exists, then it is encoded using one bit.  (Zero</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">      would be more efficient, but perhaps a little confusing.)  If two</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">      codes exist, they are coded using one bit each (0 and 1).</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">   5. There is no way of sending zero distance codes--a dummy must be</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">      sent if there are none.  (History: a pre 2.0 version of PKZIP would</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">      store blocks with no distance codes, but this was discovered to be</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">      too harsh a criterion.)  Valid only for 1.93a.  2.04c does allow</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">      zero distance codes, which is sent as one code of zero bits in</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">      length.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   6. There are up to 286 literal/length codes.  Code 256 represents the</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">      end-of-block.  Note however that the static length tree defines</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">      288 codes just to fill out the Huffman codes.  Codes 286 and 287</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">      cannot be used though, since there is no length base or extra bits</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">      defined for them.  Similarily, there are up to 30 distance codes.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">      However, static trees define 32 codes (all 5 bits) to fill out the</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">      Huffman codes, but the last two had better not show up in the data.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">   7. Unzip can check dynamic Huffman blocks for complete code sets.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">      The exception is that a single code would not be complete (see #4).</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">   8. The five bits following the block type is really the number of</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">      literal codes sent minus 257.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">   9. Length codes 8,16,16 are interpreted as 13 length codes of 8 bits</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">      (1+6+6).  Therefore, to output three times the length, you output</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">      three codes (1+1+1), whereas to output four times the same length,</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">      you only need two codes (1+3).  Hmm.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  10. In the tree reconstruction algorithm, Code = Code + Increment</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">      only if BitLength(i) is not zero.  (Pretty obvious.)</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  11. Correction: 4 Bits: # of Bit Length codes - 4     (4 - 19)</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">  12. Note: length code 284 can represent 227-258, but length code 285</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">      really is 258.  The last length deserves its own, short code</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">      since it gets used a lot in very redundant files.  The length</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">      258 is special since 258 - 3 (the min match length) is 255.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  13. The literal/length and distance code bit lengths are read as a</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">      single stream of lengths.  It is possible (and advantageous) for</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">      a repeat code (16, 17, or 18) to go across the boundary between</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">      the two sets of lengths.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/*G.Barrand #define PKZIP_BUG_WORKAROUND */</span> <span class="comment">/* PKZIP 1.93a problem--live with it */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    inflate.h must supply the uch slide[WSIZE] array and the NEXTBYTE,</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">    FLUSH() and memzero macros.  If the window size is not 32K, it</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">    should also define WSIZE.  If INFMOD is defined, it can include</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    compiled functions to support the NEXTBYTE and/or FLUSH() macros.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    There are defaults for NEXTBYTE and FLUSH() below for use as</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">    examples of what those functions need to do.  Normally, you would</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    also want FLUSH() to compute a crc on the data.  inflate.h also</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    needs to provide these typedefs:</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">        typedef unsigned char uch;</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">        typedef unsigned short ush;</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">        typedef unsigned long ulg;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    This module uses the external functions malloc() and free() (and</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    probably memset() or bzero() in the memzero() macro).  Their</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">    prototypes are normally found in &lt;string.h&gt; and &lt;stdlib.h&gt;.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/*G.Barrand</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">#define INFMOD</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">#if 0</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">#include &quot;Inflate.h&quot;</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">#endif</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a330a2ea4da1ce57c189821c8ebf59618">  208</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">char</span>              <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a330a2ea4da1ce57c189821c8ebf59618">boolean</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">  209</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>     <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>;  <span class="comment">/* code assumes unsigned bytes; these type-  */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">  210</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a>;  <span class="comment">/*  defs replace byte/UWORD/ULONG (which are */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">  211</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>     <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a>;  <span class="comment">/*  predefined on some systems) &amp; match zip  */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#ifndef WSIZE           </span><span class="comment">/* default is 32K */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">  214</a></span>&#160;<span class="preprocessor">#  define WSIZE 0x8000  </span><span class="comment">/* window size--must be a power of two, and at least */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">#endif                  </span><span class="comment">/* 32K for zip&#39;s deflate method */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#ifndef NEXTBYTE        </span><span class="comment">/* default is to simply get a byte from stdin */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ab757e29ce18ed03f73c4b81a869e4b9a">  218</a></span>&#160;<span class="preprocessor">#  define NEXTBYTE csz__ReadByte()</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#ifndef FPRINTF</span></div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ae6d03ea01910257a961b0937d3cb0e2f">  222</a></span>&#160;<span class="preprocessor">#  define FPRINTF fprintf</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#ifndef FLUSH           </span><span class="comment">/* default is to simply write the buffer to stdout */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">  226</a></span>&#160;<span class="preprocessor">#  define FLUSH(n) csz__WriteData(n)  </span><span class="comment">/* return value not used */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/* Warning: the fwrite above might not work on 16-bit compilers, since</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">   0x8000 might be interpreted as -32,768 by the library function. */</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor">#ifndef Trace</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#  ifdef DEBUG</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#    define Trace(x) fprintf x</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#  else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">  235</a></span>&#160;<span class="preprocessor">#    define Trace(x)</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#  endif</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/* Huffman code lookup table entry--this entry is four bytes for machines</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">   that have 16-bit pointers (e.g. PC&#39;s in the small or medium model).</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">   Valid extra bits are 0..13.  e == 15 is EOB (end of block), e == 16</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">   means that v is a literal, 16 &lt; e &lt; 32 means that v is a pointer to</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">   the next table, which codes e - 16 bits, and lastly e == 99 indicates</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">   an unused code.  If a code with e == 99 is looked up, this implies an</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">   error in the data. */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="../../d6/d5f/structhuft.html">  247</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> {</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">  248</a></span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a> <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>;                <span class="comment">/* number of extra bits or operation */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">  249</a></span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a> <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;                <span class="comment">/* number of bits in this code or subcode */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">union </span>{</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">  251</a></span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a>;              <span class="comment">/* literal, length base, or distance base */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">  252</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>;     <span class="comment">/* pointer to next level of table */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  } <a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;};</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/* Function prototypes */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/*G.Barrand</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">#ifndef OF</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">#  ifdef __STDC__</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">#    define OF(a) a</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">#  else</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">#    define OF(a) ()</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">#  endif</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">#endif</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(<span class="keywordtype">unsigned</span> *, <span class="keywordtype">unsigned</span>, <span class="keywordtype">unsigned</span>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> *, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> *,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> **, <span class="keywordtype">int</span> *);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">csz__Inflate_codes</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *, <span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2b28c3db1cf80563b5621a211f6807b1">csz__Inflate_stored</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a0ad1dbe7d5b2b34fc003d49a45e749">csz__Inflate_fixed</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aa7ea829683d128af149e36c3eb295e39">csz__Inflate_dynamic</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a005a498a893ce490fb2ff1d556731817">csz__Inflate_block</a>(<span class="keywordtype">int</span> *);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#ifdef __cplusplus </span><span class="comment">/*G.Barrand*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a379aea5c1cf2f6dc2dc75c405cab9dd6">csz__Inflate</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#adddb5a5703ef8d52a75f48b28c59c050">csz__Inflate_free</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#ifdef __cplusplus </span><span class="comment">/*G.Barrand*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/* The inflate algorithm uses a sliding 32K byte window on the uncompressed</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">   stream to find repeated byte strings.  This is implemented here as a</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">   circular buffer.  The index is updated simply by incrementing and then</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">   and&#39;ing with 0x7fff (32K-1). */</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/* It is left to other modules to supply the 32K area.  It is assumed</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">   to be usable as if it were declared &quot;uch slide[32768];&quot; or as just</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">   &quot;uch *slide;&quot; and then malloc&#39;ed in the latter case.  The definition</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">   must be in unzip.h, included above. */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">  293</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a> [32768];</div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">  294</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a>;            <span class="comment">/* current position in slide */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/* Tables for deflate from PKZIP&#39;s appnote.txt. */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a316e7ddbb185bc46362bddaa11b79cfd">  298</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a316e7ddbb185bc46362bddaa11b79cfd">border</a>[] = {    <span class="comment">/* Order of the bit length code lengths */</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15};</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ab7a94d7a7cc01671533eccd5fd2a15b4">  300</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab7a94d7a7cc01671533eccd5fd2a15b4">cplens</a>[] = {         <span class="comment">/* Copy lengths for literal codes 257..285 */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0};</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">/* note: see note #13 above about the 258 in this list. */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ac14bfe05dfa356bb3c347eb5ccb6f2d3">  304</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ac14bfe05dfa356bb3c347eb5ccb6f2d3">cplext</a>[] = {         <span class="comment">/* Extra bits for literal codes 257..285 */</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 99, 99}; <span class="comment">/* 99==invalid */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#aac9cb3d070de1f0f60b080c28d2b6fcc">  307</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aac9cb3d070de1f0f60b080c28d2b6fcc">cpdist</a>[] = {         <span class="comment">/* Copy offsets for distance codes 0..29 */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        8193, 12289, 16385, 24577};</div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a6145642815d95559b2f0761dc07587ed">  311</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6145642815d95559b2f0761dc07587ed">cpdext</a>[] = {         <span class="comment">/* Extra bits for distance codes */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        7, 7, 8, 8, 9, 9, 10, 10, 11, 11,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        12, 12, 13, 13};</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/* And&#39;ing with mask[n] masks the lower n bits */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">  317</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[] = {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    0x0000,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    0x0001, 0x0003, 0x0007, 0x000f, 0x001f, 0x003f, 0x007f, 0x00ff,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    0x01ff, 0x03ff, 0x07ff, 0x0fff, 0x1fff, 0x3fff, 0x7fff, 0xffff</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;};</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">/* Macros for inflate() bit peeking and grabbing.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">   The usage is:</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">        NEEDBITS(j)</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">        x = b &amp; mask[j];</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">        DUMPBITS(j)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">   where NEEDBITS makes sure that b has at least j bits in it, and</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">   DUMPBITS removes the bits from b.  The macros use the variable k</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">   for the number of bits in b.  Normally, b and k are register</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">   variables for speed, and are initialized at the begining of a</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">   routine that uses these macros from a global bit buffer and count.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">   In order to not ask for more bits than there are in the compressed</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">   stream, the Huffman tables are constructed to only ask for just</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">   enough bits to make up the end-of-block code (value 256).  Then no</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">   bytes need to be &quot;returned&quot; to the buffer at the end of the last</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">   block.  See the huft_build() routine.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">  344</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a>;                         <span class="comment">/* bit buffer */</span></div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">  345</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a>;                    <span class="comment">/* bits in bit buffer */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">  346</a></span>&#160;<span class="keyword">static</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>  *<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a08c024be92841968ee54a785c693dd80">ibufptr</a>,*<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">  347</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">long</span>  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a21324ffad45ac8bdf62df4e2a808a26f">ibufcnt</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">obufcnt</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a4afc4cfe7d1af63e72b1e88b34c8b520">  349</a></span>&#160;<span class="preprocessor">#define CHECK_EOF</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#ifndef CHECK_EOF</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>  csz__ReadByte();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93be0e22a666107eada0d9ac35a7973c">csz__WriteData</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#ifndef CHECK_EOF</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#  define NEEDBITS(n) {while(k&lt;(n)){b|=((ulg)NEXTBYTE)&lt;&lt;k;k+=8;}}</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">  359</a></span>&#160;<span class="preprocessor">#  define NEEDBITS(n) {while(k&lt;(n)){if(ibufcnt-- &lt;= 0)return 1;b|=((ulg) *ibufptr++)&lt;&lt;k;k+=8;}}</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="preprocessor">#endif                      </span><span class="comment">/* Piet Plomp:  change &quot;return 1&quot; to &quot;break&quot; */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">  362</a></span>&#160;<span class="preprocessor">#define DUMPBITS(n) {b&gt;&gt;=(n);k-=(n);}</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">   Huffman code decoding is performed using a multi-level table lookup.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">   The fastest way to decode is to simply build a lookup table whose</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">   size is determined by the longest code.  However, the time it takes</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">   to build this table can also be a factor if the data being decoded</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">   is not very long.  The most common codes are necessarily the</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">   shortest codes, so those codes dominate the decoding time, and hence</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">   the speed.  The idea is you can have a shorter table that decodes the</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">   shorter, more probable codes, and then point to subsidiary tables for</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">   the longer codes.  The time it costs to decode the longer codes is</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">   then traded against the time it takes to make longer tables.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">   This results of this trade are in the variables lbits and dbits</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">   below.  lbits is the number of bits the first level table for literal/</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">   length codes can decode in one step, and dbits is the same thing for</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">   the distance codes.  Subsequent tables are also less than or equal to</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">   those sizes.  These values may be adjusted either when all of the</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">   codes are shorter than that, in which case the longest code length in</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">   bits is used, or when the shortest code is *longer* than the requested</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">   table size, in which case the length of the shortest code in bits is</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">   used.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">   There are two different values for the two tables, since they code a</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">   different number of possibilities each.  The literal/length table</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">   codes 286 possible values, or in a flat code, a little over eight</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">   bits.  The distance table codes 30 possible values, or a little less</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">   than five bits, flat.  The optimum values for speed end up being</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">   about one bit more than those, so lbits is 8+1 and dbits is 5+1.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">   The optimum values may differ though from machine to machine, and</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">   possibly even between compilers.  Your mileage may vary.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a4b0f9ae839819a2d95bd819b3d5e6726">  398</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a4b0f9ae839819a2d95bd819b3d5e6726">lbits</a> = 9;          <span class="comment">/* bits in base literal/length lookup table */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#aede3b72e5da75143b6aef3d67c7b7346">  399</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aede3b72e5da75143b6aef3d67c7b7346">dbits</a> = 6;          <span class="comment">/* bits in base distance lookup table */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">/* If BMAX needs to be larger than 16, then h and x[] should be ulg. */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">  403</a></span>&#160;<span class="preprocessor">#define BMAX 16         </span><span class="comment">/* maximum bit length of any code (16 for explode) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a0909f9743b77b5e83d3e8e1d61989b10">  404</a></span>&#160;<span class="preprocessor">#define N_MAX 288       </span><span class="comment">/* maximum number of codes in any set */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">  407</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a>;         <span class="comment">/* track memory usage */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">  410</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(<span class="keywordtype">unsigned</span> *<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a91bd2634802c48a70d6bb1cb2ef24068">s</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> *d, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a> *<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>, <span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> **<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>, <span class="keywordtype">int</span> *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">/* unsigned *b;             code lengths in bits (all assumed &lt;= BMAX) */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">/* unsigned n;              number of codes (assumed &lt;= N_MAX) */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">/* unsigned s;              number of simple-valued codes (0..s-1) */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/* ush *d;                  list of base values for non-simple codes */</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/* ush *e;                  list of extra bits for non-simple codes */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">/* struct huft **t;         result: starting table */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">/* int *m;                  maximum lookup bits, returns actual */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/* Given a list of code lengths and a maximum table size, make a set of</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">   tables to decode that set of codes.  Return zero on success, one if</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">   the given code set is incomplete (the tables are still built in this</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">   case), two if the input is invalid (all zero length codes or an</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">   oversubscribed set of lengths), and three if not enough memory.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">   The code with value 256 is special, and the tables are constructed</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">   so that no bits beyond that code are fetched when that code is</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">   decoded. */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a>;                   <span class="comment">/* counter for codes of length k */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">unsigned</span> c[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>+1];           <span class="comment">/* bit length count table */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">unsigned</span> el;                  <span class="comment">/* length of EOB code (value 256) */</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordtype">unsigned</span> f;                   <span class="comment">/* i repeats in table every f entries */</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a>;                        <span class="comment">/* maximum code length */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordtype">int</span> h;                        <span class="comment">/* table level */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">/*G.Barrand : comment out register keyword.*/</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> i;          <span class="comment">/* counter, current code */</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> j;          <span class="comment">/* counter */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">int</span> k;               <span class="comment">/* number of bits in current code */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordtype">int</span> lx[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>+1];               <span class="comment">/* memory for l[-1..BMAX-1] */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordtype">int</span> *l = lx+1;                <span class="comment">/* stack of bits per table */</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> *p;         <span class="comment">/* pointer into c[], b[], or v[] */</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">/*register*/</span> <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *q;      <span class="comment">/* points to current table */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> r;                <span class="comment">/* table entry for structure assignment */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *u[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>];         <span class="comment">/* table stack */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a0909f9743b77b5e83d3e8e1d61989b10">N_MAX</a>];     <span class="comment">/* values in order of bit length */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">int</span> w;               <span class="comment">/* bits before this table == (l * h) */</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordtype">unsigned</span> x[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>+1];           <span class="comment">/* bit offsets, then code stack */</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">unsigned</span> *xp;                 <span class="comment">/* pointer into x */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">int</span> y;                        <span class="comment">/* number of dummy codes added */</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">unsigned</span> z;                   <span class="comment">/* number of entries in current table */</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">/* Generate counts for each bit length */</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  el = <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> &gt; 256 ? <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>[256] : <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>; <span class="comment">/* set length of EOB code, if any */</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  memset((<span class="keywordtype">char</span> *)c,0,<span class="keyword">sizeof</span>(c));</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  p = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;  i = <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    c[*p]++; p++;               <span class="comment">/* assume all entries &lt;= BMAX */</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  } <span class="keywordflow">while</span> (--i);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">if</span> (c[0] == <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>)                <span class="comment">/* null input--all zero length codes */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    *<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> = 0;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">/* Find minimum and maximum length, bound *m by those */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">for</span> (j = 1; j &lt;= <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>; j++)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (c[j])</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  k = j;                        <span class="comment">/* minimum code length */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> &lt; j)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> = j;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">for</span> (i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a>; i; i--)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (c[i])</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a> = i;                        <span class="comment">/* maximum code length */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> &gt; i)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> = i;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">/* Adjust last length count to fill out codes, if needed */</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">for</span> (y = 1 &lt;&lt; j; j &lt; i; j++, y &lt;&lt;= 1)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> ((y -= c[j]) &lt; 0)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> 2;                 <span class="comment">/* bad input: more codes than bits */</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">if</span> ((y -= c[i]) &lt; 0)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  c[i] += y;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">/* Generate starting offsets into the value table for each length */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  x[1] = j = 0;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  p = c + 1;  xp = x + 2;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">while</span> (--i) {                 <span class="comment">/* note that i == g from above */</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    *xp++ = (j += *p++);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">/* Make a table of values in order of bit lengths */</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  p = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;  i = 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">if</span> ((j = *p++) != 0)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>[x[j]++] = i;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  } <span class="keywordflow">while</span> (++i &lt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">/* Generate the Huffman codes and for each, make the table entries */</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  x[0] = i = 0;                 <span class="comment">/* first Huffman code is zero */</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  p = <a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>;                        <span class="comment">/* grab values in bit order */</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  h = -1;                       <span class="comment">/* no tables yet--level -1 */</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  w = l[-1] = 0;                <span class="comment">/* no bits decoded yet */</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  u[0] = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;   <span class="comment">/* just to keep compilers happy */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  q = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;      <span class="comment">/* ditto */</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  z = 0;                        <span class="comment">/* ditto */</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">/* go through the bit lengths (k already is bits in shortest code) */</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">for</span> (; k &lt;= <a class="code" href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a>; k++)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a> = c[k];</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a>--)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="comment">/* here i is the Huffman code of length k bits for value *p */</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">/* make tables up to required level */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">while</span> (k &gt; w + l[h])</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        w += l[h++];            <span class="comment">/* add bits already decoded */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">/* compute minimum size table less than or equal to *m bits */</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        z = (z = <a class="code" href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a> - w) &gt; (<span class="keywordtype">unsigned</span>)*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> ? (unsigned) *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> : z;   <span class="comment">/* upper limit */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">if</span> ((f = 1 &lt;&lt; (j = k - w)) &gt; <a class="code" href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a> + 1)     <span class="comment">/* try a k-w bit table */</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        {                       <span class="comment">/* too few codes for k-w bit table */</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          f -= <a class="code" href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a> + 1;           <span class="comment">/* deduct codes from patterns left */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          xp = c + k;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          <span class="keywordflow">while</span> (++j &lt; z)       <span class="comment">/* try smaller tables up to z bits */</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> ((f &lt;&lt;= 1) &lt;= *++xp)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;              <span class="keywordflow">break</span>;            <span class="comment">/* enough codes to use up j bits */</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            f -= *xp;           <span class="comment">/* else deduct codes from patterns */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)w + j &gt; el &amp;&amp; (unsigned)w &lt; el)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          j = el - w;           <span class="comment">/* make EOB code end at table */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        z = 1 &lt;&lt; j;             <span class="comment">/* table entries for j-bit table */</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        l[h] = j;               <span class="comment">/* set table size in stack */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">/* allocate and link in new table */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> ((q = (<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)malloc((z + 1)*<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a>))) ==</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            (<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;          <span class="keywordflow">if</span> (h)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(u[0]);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          <span class="keywordflow">return</span> 3;             <span class="comment">/* not enough memory */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a> += z + 1;         <span class="comment">/* track memory usage */</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        *<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = q + 1;             <span class="comment">/* link to list for huft_free() */</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        *(<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = &amp;(q-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>)) = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        u[h] = ++q;             <span class="comment">/* table starts after link */</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">/* connect to last table, if there is one */</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (h)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          x[h] = i;             <span class="comment">/* save pattern for backing up */</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          r.<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)l[h-1];    <span class="comment">/* bits to dump before this table */</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;          r.<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)(16 + j);  <span class="comment">/* bits in this table */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          r.<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = q;            <span class="comment">/* pointer to this table */</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;          j = (i &amp; ((1 &lt;&lt; w) - 1)) &gt;&gt; (w - l[h-1]);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;          u[h-1][j] = r;        <span class="comment">/* connect to last table */</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="comment">/* set up table entry in r */</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      r.<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)(k - w);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keywordflow">if</span> (p &gt;= <a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a> + <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        r.<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = 99;               <span class="comment">/* out of values--invalid code */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*p &lt; <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a91bd2634802c48a70d6bb1cb2ef24068">s</a>) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        r.<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)(*p &lt; 256 ? 16 : 15);    <span class="comment">/* 256 is end-of-block code */</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        r.<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a> = *p++;           <span class="comment">/* simple code is just the value */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> &amp;&amp; d) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        r.<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>[*p - <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a91bd2634802c48a70d6bb1cb2ef24068">s</a>];   <span class="comment">/* non-simple--look up in lists */</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        r.<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a> = d[*p++ - <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a91bd2634802c48a70d6bb1cb2ef24068">s</a>];</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">/* fill code-like entries with r */</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      f = 1 &lt;&lt; (k - w);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">for</span> (j = i &gt;&gt; w; j &lt; z; j += f)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        q[j] = r;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="comment">/* backwards increment the k-bit code i */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">for</span> (j = 1 &lt;&lt; (k - 1); i &amp; j; j &gt;&gt;= 1)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        i ^= j;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      i ^= j;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="comment">/* backup over finished tables */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">while</span> ((i &amp; ((1 &lt;&lt; w) - 1)) != x[h])</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        w -= l[--h];            <span class="comment">/* don&#39;t need to update q */</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">/* return actual size of base table */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> = l[0];</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">/* Return true (1) if we were given an incomplete table */</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">return</span> y != 0 &amp;&amp; <a class="code" href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a> != 1;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">  609</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/* struct huft *t;          table to free */</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">/* Free the malloc&#39;ed tables built by huft_build(), which makes a linked</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">   list of the tables it made, with the links in a dummy first entry of</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">   each table. */</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">/*register*/</span> <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *p, *q;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">/* Go through linked list, freeing from the malloced (t[-1]) address. */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  p = <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">while</span> (p != (<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    q = (--p)-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.t;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="../../d1/d10/G4BOptrForceCollisionTrackData_8hh.html#a9a21b500f0862c643e56e6b776852ad8aaa2d6e4f578eb0cfaba23beef76c2194">free</a>(p);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    p = q;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">/*G.Barrand</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">#ifdef ASM_INFLATECODES</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">#  define csz__Inflate_codes(tl,td,bl,bd)  csz__Flate_codes(tl,td,bl,bd,(uch *)csz__slide)</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">   int csz__Flate_codes(struct huft *, struct huft *, int, int, uch *);</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">#else</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">  638</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">csz__Inflate_codes</a>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *tl, <span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *td, <span class="keywordtype">int</span> bl, <span class="keywordtype">int</span> bd)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">/* struct huft *tl, *td;    literal/length and distance decoder tables */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">/* int bl, bd;              number of bits decoded by tl[] and td[] */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">/* inflate (decompress) the codes in a deflated (compressed) block.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">   Return an error code or zero if it all goes ok. */</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>;  <span class="comment">/* table entry flag/number of extra bits */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>, d;        <span class="comment">/* length and index for copy */</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordtype">unsigned</span> w;           <span class="comment">/* current window position */</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>;       <span class="comment">/* pointer to table entry */</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordtype">unsigned</span> ml, md;      <span class="comment">/* masks for bl and bd bits */</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">/*register*/</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a> <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;       <span class="comment">/* bit buffer */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> k;  <span class="comment">/* number of bits in bit buffer */</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">/* make local copies of globals */</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a>;                       <span class="comment">/* initialize bit buffer */</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  k = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  w = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a>;                       <span class="comment">/* initialize window position */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="comment">/* inflate the coded data */</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  ml = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[bl];           <span class="comment">/* precompute masks for speed */</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  md = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[bd];</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">while</span> (1)                     <span class="comment">/* do until end of block */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>((<span class="keywordtype">unsigned</span>)bl)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = tl + ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; ml))-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>) &gt; 16)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> == 99)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> -= 16;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      } <span class="keywordflow">while</span> ((<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> + ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>]))-&gt;e) &gt; 16);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> == 16)                <span class="comment">/* then it&#39;s a literal */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a>[w++] = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      if (w == <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a>)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">FLUSH</a>(w);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        w = 0;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">else</span>                        <span class="comment">/* it&#39;s an EOB or a length */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">/* exit if end of block */</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> == 15)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="comment">/* get length of block to copy */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> = <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a> + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>]);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="comment">/* decode distance of block to copy */</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>((<span class="keywordtype">unsigned</span>)bd)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = td + ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; md))-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>) &gt; 16)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> == 99)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> -= 16;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        } <span class="keywordflow">while</span> ((<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> + ((<span class="keywordtype">unsigned</span>)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>]))-&gt;e) &gt; 16);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      d = w - <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a> - ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>]);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="comment">/* do the copy */</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> -= (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a> - ((d &amp;= <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a>-1) &gt; w ? d : w)) &gt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> ? <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> : <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor">#ifndef NOMEMCPY</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">if</span> (w - d &gt;= <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)         <span class="comment">/* (this test assumes unsigned comparison) */</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          memcpy(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a> + w, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a> + d, <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          w += <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;          d += <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">else</span>                      <span class="comment">/* do it slow to avoid memcpy() overlap */</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !NOMEMCPY */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a>[w++] = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a>[d++];</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          } <span class="keywordflow">while</span> (--<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">if</span> (w == <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">FLUSH</a>(w);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          w = 0;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">/* restore the globals from the locals */</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a> = w;                       <span class="comment">/* restore global window pointer */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a> = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;                       <span class="comment">/* restore global bit buffer */</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a> = k;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">/* done */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">/*#endif G.Barrand*/</span> <span class="comment">/* ASM_INFLATECODES */</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a2b28c3db1cf80563b5621a211f6807b1">  748</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2b28c3db1cf80563b5621a211f6807b1">csz__Inflate_stored</a>()</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/* &quot;decompress&quot; an inflated type 0 (stored) block. */</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;{</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>;           <span class="comment">/* number of bytes in block */</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordtype">unsigned</span> w;           <span class="comment">/* current window position */</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">/*register*/</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a> <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;       <span class="comment">/* bit buffer */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> k;  <span class="comment">/* number of bits in bit buffer */</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">/* make local copies of globals */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">Trace</a>((stderr, <span class="stringliteral">&quot;\nstored block&quot;</span>));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a>;                       <span class="comment">/* initialize bit buffer */</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  k = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  w = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a>;                       <span class="comment">/* initialize window position */</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">/* go to byte boundary */</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> = k &amp; 7;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(<a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">/* get the length and its complement */</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(16)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> = ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 0xffff);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(16)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(16)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> != (<span class="keywordtype">unsigned</span>)((~<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>) &amp; 0xffff))</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> 1;                   <span class="comment">/* error in compressed data */</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(16)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">/* read and output the compressed data */</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>--)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(8)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a>[w++] = (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a>)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (w == <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a>)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">FLUSH</a>(w);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      w = 0;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(8)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">/* restore the globals from the locals */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a> = w;                       <span class="comment">/* restore global window pointer */</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a> = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;                       <span class="comment">/* restore global bit buffer */</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a> = k;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">/* Globals for literal tables (built once) */</span></div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">  802</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">  803</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">  804</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">csz__fixed_bl</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a8425d5171dc5d9702ce2732deebf9b">csz__fixed_bd</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a3a0ad1dbe7d5b2b34fc003d49a45e749">  806</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a0ad1dbe7d5b2b34fc003d49a45e749">csz__Inflate_fixed</a>()</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">/* decompress an inflated type 1 (fixed Huffman codes) block.  We should</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">   either replace this with a custom decoder, or at least precompute the</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">   Huffman tables. */</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">/* if first time, set up tables for fixed blocks */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">Trace</a>((stderr, <span class="stringliteral">&quot;\nliteral block&quot;</span>));</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> == (<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordtype">int</span> i;                <span class="comment">/* temporary variable */</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> l[288]; <span class="comment">/* length list for huft_build */</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">/* literal table */</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 144; i++)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      l[i] = 8;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">for</span> (; i &lt; 256; i++)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      l[i] = 9;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">for</span> (; i &lt; 280; i++)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      l[i] = 7;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">for</span> (; i &lt; 288; i++)          <span class="comment">/* make a complete, but wrong code set */</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      l[i] = 8;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">csz__fixed_bl</a> = 7;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> ((i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(l, 288, 257, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab7a94d7a7cc01671533eccd5fd2a15b4">cplens</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ac14bfe05dfa356bb3c347eb5ccb6f2d3">cplext</a>,</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                        &amp;<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a>, &amp;<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">csz__fixed_bl</a>)) != 0)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">/* distance table */</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 30; i++)      <span class="comment">/* make an incomplete code set */</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      l[i] = 5;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a8425d5171dc5d9702ce2732deebf9b">csz__fixed_bd</a> = 5;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span> ((i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(l, 30, 0, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aac9cb3d070de1f0f60b080c28d2b6fcc">cpdist</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6145642815d95559b2f0761dc07587ed">cpdext</a>, &amp;<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a>, &amp;<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a8425d5171dc5d9702ce2732deebf9b">csz__fixed_bd</a>)) &gt; 1)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">/* decompress until an end-of-block code */</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">csz__Inflate_codes</a>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">csz__fixed_bl</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a8425d5171dc5d9702ce2732deebf9b">csz__fixed_bd</a>) != 0;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#aa7ea829683d128af149e36c3eb295e39">  854</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aa7ea829683d128af149e36c3eb295e39">csz__Inflate_dynamic</a>()</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">/* decompress an inflated type 2 (dynamic Huffman codes) block. */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordtype">int</span> i;                <span class="comment">/* temporary variables */</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordtype">unsigned</span> j;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordtype">unsigned</span> l;           <span class="comment">/* last length */</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>;           <span class="comment">/* mask for bit lengths table */</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>;           <span class="comment">/* number of lengths to get */</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *tl;      <span class="comment">/* literal/length code table */</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *td;      <span class="comment">/* distance code table */</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordtype">int</span> bl;               <span class="comment">/* lookup bits for tl */</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keywordtype">int</span> bd;               <span class="comment">/* lookup bits for td */</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordtype">unsigned</span> nb;          <span class="comment">/* number of bit length codes */</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordtype">unsigned</span> nl;          <span class="comment">/* number of literal/length codes */</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordtype">unsigned</span> nd;          <span class="comment">/* number of distance codes */</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#ifdef PKZIP_BUG_WORKAROUND</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> ll[288+32]; <span class="comment">/* literal/length and distance code lengths */</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> ll[286+30]; <span class="comment">/* literal/length and distance code lengths */</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">/*register*/</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a> <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;       <span class="comment">/* bit buffer */</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> k;  <span class="comment">/* number of bits in bit buffer */</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> qflag = 0; <span class="comment">/*G.Barrand*/</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="comment">/* make local bit buffer */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">Trace</a>((stderr, <span class="stringliteral">&quot;\ndynamic block&quot;</span>));</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  k = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">/* read in table lengths */</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(5)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  nl = 257 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 0x1f);      <span class="comment">/* number of literal/length codes */</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(5)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(5)</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  nd = 1 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 0x1f);        <span class="comment">/* number of distance codes */</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(5)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(4)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  nb = 4 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 0xf);         <span class="comment">/* number of bit length codes */</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(4)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#ifdef PKZIP_BUG_WORKAROUND</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">if</span> (nl &gt; 288 || nd &gt; 32)</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">if</span> (nl &gt; 286 || nd &gt; 30)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> 1;                   <span class="comment">/* bad lengths */</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="comment">/* read in bit-length-code lengths */</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">for</span> (j = 0; j &lt; nb; j++)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(3)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    ll[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a316e7ddbb185bc46362bddaa11b79cfd">border</a>[j]] = (unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 7;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(3)</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">for</span> (; j &lt; 19; j++)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    ll[<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a316e7ddbb185bc46362bddaa11b79cfd">border</a>[j]] = 0;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">/* build decoding table for trees--single level, 7 bit lookup */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  bl = 7;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordflow">if</span> ((i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(ll, 19, 19, NULL, NULL, &amp;tl, &amp;bl)) != 0)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (i == 1)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">return</span> i;                   <span class="comment">/* incomplete code set */</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">/*G.Barrand : to quiet Coverity : */</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">#define NEEDBITS_free_tl(n) {while(k&lt;(n)){if(ibufcnt-- &lt;= 0){csz__huft_free(tl);return 1;} b|=((ulg) *ibufptr++)&lt;&lt;k;k+=8;}}</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">/* read in literal and distance code lengths */</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> = nl + nd;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a>[bl];</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  i = l = 0;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">while</span> ((<span class="keywordtype">unsigned</span>)i &lt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6dacdf7423d1e380a84a44f652c00d18">NEEDBITS_free_tl</a>((<span class="keywordtype">unsigned</span>)bl)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    j = (td = tl + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>))-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(j)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    j = td-&gt;<a class="code" href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">v</a>.<a class="code" href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">n</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (j &lt; 16)                 <span class="comment">/* length of code in bits (0..15) */</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      ll[i++] = l = j;          <span class="comment">/* save last length in l */</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j == 16)           <span class="comment">/* repeat last length 3 to 6 times */</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6dacdf7423d1e380a84a44f652c00d18">NEEDBITS_free_tl</a>(2)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      j = 3 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 3);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(2)</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)i + j &gt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl); <span class="comment">/*G.Barrand : quiet Coverity*/</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">while</span> (j--)</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        ll[i++] = l;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j == 17)           <span class="comment">/* 3 to 10 zero length codes */</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6dacdf7423d1e380a84a44f652c00d18">NEEDBITS_free_tl</a>(3)</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      j = 3 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 7);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(3)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)i + j &gt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>){</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl); <span class="comment">/*G.Barrand : quiet Coverity*/</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">while</span> (j--)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        ll[i++] = 0;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      l = 0;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">else</span>                        <span class="comment">/* j == 18: 11 to 138 zero length codes */</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6dacdf7423d1e380a84a44f652c00d18">NEEDBITS_free_tl</a>(7)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      j = 11 + ((unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 0x7f);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(7)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)i + j &gt; <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl); <span class="comment">/*G.Barrand : quiet Coverity*/</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">while</span> (j--)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        ll[i++] = 0;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      l = 0;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">/* free decoding table for trees */</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="comment">/* restore the global bit buffer */</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a> = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a> = k;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">/* build the decoding tables for literal/length and distance codes */</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  bl = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a4b0f9ae839819a2d95bd819b3d5e6726">lbits</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> ((i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(ll, nl, 257, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab7a94d7a7cc01671533eccd5fd2a15b4">cplens</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ac14bfe05dfa356bb3c347eb5ccb6f2d3">cplext</a>, &amp;tl, &amp;bl)) != 0)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">if</span> (i == 1 &amp;&amp; !qflag) {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae6d03ea01910257a961b0937d3cb0e2f">FPRINTF</a>(stderr, <span class="stringliteral">&quot;(incomplete l-tree)  &quot;</span>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">return</span> i;                   <span class="comment">/* incomplete code set */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  bd = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aede3b72e5da75143b6aef3d67c7b7346">dbits</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">if</span> ((i = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a>(ll + nl, nd, 0, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aac9cb3d070de1f0f60b080c28d2b6fcc">cpdist</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6145642815d95559b2f0761dc07587ed">cpdext</a>, &amp;td, &amp;bd)) != 0)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span> (i == 1 &amp;&amp; !qflag) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae6d03ea01910257a961b0937d3cb0e2f">FPRINTF</a>(stderr, <span class="stringliteral">&quot;(incomplete d-tree)  &quot;</span>);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="preprocessor">#ifdef PKZIP_BUG_WORKAROUND</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      i = 0;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(td);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span> i;                   <span class="comment">/* incomplete code set */</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="comment">/* decompress until an end-of-block code */</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">csz__Inflate_codes</a>(tl, td, bl, bd))</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">/* free the decoding tables, return */</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(tl);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(td);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a005a498a893ce490fb2ff1d556731817"> 1028</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a005a498a893ce490fb2ff1d556731817">csz__Inflate_block</a>(<span class="keywordtype">int</span> *<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">/* int *e;                  last block flag */</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">/* decompress an inflated block */</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;{</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a>;           <span class="comment">/* block type */</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">/*register*/</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a> <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;       <span class="comment">/* bit buffer */</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="comment">/*register*/</span> <span class="keywordtype">unsigned</span> k;  <span class="comment">/* number of bits in bit buffer */</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">/* make local bit buffer */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  k = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">/* read in last block bit */</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(1)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  *<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a> = (int)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 1;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(1)</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">/* read in block type */</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a>(2)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> = (unsigned)<a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a> &amp; 3;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a>(2)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="comment">/* restore the global bit buffer */</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a> = <a class="code" href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">b</a>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a> = k;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="comment">/* inflate that block type */</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> == 2)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#aa7ea829683d128af149e36c3eb295e39">csz__Inflate_dynamic</a>();</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> == 0)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2b28c3db1cf80563b5621a211f6807b1">csz__Inflate_stored</a>();</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">t</a> == 1)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3a0ad1dbe7d5b2b34fc003d49a45e749">csz__Inflate_fixed</a>();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">/* bad block type */</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="preprocessor">#ifdef __cplusplus </span><span class="comment">/*G.Barrand*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a379aea5c1cf2f6dc2dc75c405cab9dd6"> 1076</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a379aea5c1cf2f6dc2dc75c405cab9dd6">csz__Inflate</a>()</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">/* decompress an inflated entry */</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;{</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>;                <span class="comment">/* last block flag */</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordtype">int</span> r;                <span class="comment">/* result code */</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordtype">unsigned</span> h;           <span class="comment">/* maximum struct huft&#39;s malloc&#39;ed */</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">/* initialize window, bit buffer */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a> = 0;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a> = 0;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a> = 0;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">/* decompress until the last block */</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  h = 0;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a> = 0;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> ((r = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a005a498a893ce490fb2ff1d556731817">csz__Inflate_block</a>(&amp;<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>)) != 0)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a> &gt; h)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      h = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  } <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">e</a>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="comment">/* flush out slide */</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">FLUSH</a>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">/* return success */</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">Trace</a>((stderr, <span class="stringliteral">&quot;\n%lu bytes in Huffman tables (%lu/entry)\n&quot;</span>,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;         h * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a>), <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a>)));</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#adddb5a5703ef8d52a75f48b28c59c050"> 1111</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#adddb5a5703ef8d52a75f48b28c59c050">csz__Inflate_free</a>()</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;{</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> != (<span class="keyword">struct</span> <a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a> = <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a> = (<span class="keyword">struct </span><a class="code" href="../../d6/d5f/structhuft.html">huft</a> *)NULL;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;}</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">/* G.Barrand */</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a481878f47028078eb663d872cdfe2af3"> 1123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a481878f47028078eb663d872cdfe2af3">csz__Init_Inflate</a>(<span class="keywordtype">long</span> a_ibufcnt,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* a_ibufptr,</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                     <span class="keywordtype">long</span> a_obufcnt,<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* a_obufptr) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a21324ffad45ac8bdf62df4e2a808a26f">ibufcnt</a> = a_ibufcnt;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a08c024be92841968ee54a785c693dd80">ibufptr</a> = a_ibufptr;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">obufcnt</a> = a_obufcnt;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a> = a_obufptr;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;}</div>
<div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a95ce6355bc1f8c323d02159103ddb60e"> 1131</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a95ce6355bc1f8c323d02159103ddb60e">csz__obufptr</a>() {<span class="keywordflow">return</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a>;}</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">#ifdef __cplusplus </span><span class="comment">/*G.Barrand*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#ifndef CHECK_EOF</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> csz__ReadByte ()</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;{</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordtype">int</span> k;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a21324ffad45ac8bdf62df4e2a808a26f">ibufcnt</a>-- &lt;= 0)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    k = -1;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    k = *<a class="code" href="../../d7/d71/csz__inflate_8cc.html#a08c024be92841968ee54a785c693dd80">ibufptr</a>++;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">return</span> k;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="../../d7/d71/csz__inflate_8cc.html#a93be0e22a666107eada0d9ac35a7973c"> 1149</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a93be0e22a666107eada0d9ac35a7973c">csz__WriteData</a>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;{</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordflow">if</span>( <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">obufcnt</a> &gt;= <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a> ) memcpy(<a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a>, <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a>, <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a> += <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">obufcnt</a> -= <a class="code" href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="acsz__inflate_8cc_html_ab1ab50f389e52105579116f8ec26f4d1"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ab1ab50f389e52105579116f8ec26f4d1">csz__fixed_td</a></div><div class="ttdeci">struct huft * csz__fixed_td</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00803">csz_inflate.cc:803</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ae2f126ea3873236d3c199f2fe0a3992b"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ae2f126ea3873236d3c199f2fe0a3992b">obufptr</a></div><div class="ttdeci">static uch * obufptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00346">csz_inflate.cc:346</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a93bbe97269cf8304b452a4d472dba191"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a93bbe97269cf8304b452a4d472dba191">Trace</a></div><div class="ttdeci">#define Trace(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00235">csz_inflate.cc:235</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a379aea5c1cf2f6dc2dc75c405cab9dd6"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a379aea5c1cf2f6dc2dc75c405cab9dd6">csz__Inflate</a></div><div class="ttdeci">int csz__Inflate(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01076">csz_inflate.cc:1076</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ac14bfe05dfa356bb3c347eb5ccb6f2d3"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ac14bfe05dfa356bb3c347eb5ccb6f2d3">cplext</a></div><div class="ttdeci">static ush cplext[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00304">csz_inflate.cc:304</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_adddb5a5703ef8d52a75f48b28c59c050"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#adddb5a5703ef8d52a75f48b28c59c050">csz__Inflate_free</a></div><div class="ttdeci">int csz__Inflate_free(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01111">csz_inflate.cc:1111</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a031bca66a257dd172bb28792dd3c9873"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a031bca66a257dd172bb28792dd3c9873">mask</a></div><div class="ttdeci">static ush mask[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00317">csz_inflate.cc:317</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a93be0e22a666107eada0d9ac35a7973c"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a93be0e22a666107eada0d9ac35a7973c">csz__WriteData</a></div><div class="ttdeci">static void csz__WriteData(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01149">csz_inflate.cc:1149</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_af28fc1f9db8b39034486d1f21162c7b0"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#af28fc1f9db8b39034486d1f21162c7b0">csz__huft_free</a></div><div class="ttdeci">int csz__huft_free(struct huft *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00609">csz_inflate.cc:609</a></div></div>
<div class="ttc" id="aExP01Classes_8hh_html_a42045b4b420638c32ed0e076737a5a83"><div class="ttname"><a href="../../d9/d26/ExP01Classes_8hh.html#a42045b4b420638c32ed0e076737a5a83">a</a></div><div class="ttdeci">std::vector&lt; ExP01TrackerHit * &gt; a</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d26/ExP01Classes_8hh_source.html#l00032">ExP01Classes.hh:32</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a316e7ddbb185bc46362bddaa11b79cfd"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a316e7ddbb185bc46362bddaa11b79cfd">border</a></div><div class="ttdeci">static unsigned border[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00298">csz_inflate.cc:298</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a481878f47028078eb663d872cdfe2af3"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a481878f47028078eb663d872cdfe2af3">csz__Init_Inflate</a></div><div class="ttdeci">void csz__Init_Inflate(long a_ibufcnt, unsigned char *a_ibufptr, long a_obufcnt, unsigned char *a_obufptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01123">csz_inflate.cc:1123</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a04cd58bc28249a2827ecb52e0ff15ac3"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a04cd58bc28249a2827ecb52e0ff15ac3">BMAX</a></div><div class="ttdeci">#define BMAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00403">csz_inflate.cc:403</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_abd6f60bf9450af2ecb94097a32c19a64"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#abd6f60bf9450af2ecb94097a32c19a64">ulg</a></div><div class="ttdeci">unsigned long ulg</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00211">csz_inflate.cc:211</a></div></div>
<div class="ttc" id="astructhuft_html"><div class="ttname"><a href="../../d6/d5f/structhuft.html">huft</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00247">csz_inflate.cc:247</a></div></div>
<div class="ttc" id="astructhuft_html_a1025136de55f32e9be843ea2dfb6eacf"><div class="ttname"><a href="../../d6/d5f/structhuft.html#a1025136de55f32e9be843ea2dfb6eacf">huft::n</a></div><div class="ttdeci">ush n</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00251">csz_inflate.cc:251</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a7b44fa2befee209fcf85a5f7a22018ec"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a7b44fa2befee209fcf85a5f7a22018ec">csz__fixed_tl</a></div><div class="ttdeci">struct huft * csz__fixed_tl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00802">csz_inflate.cc:802</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a6dacdf7423d1e380a84a44f652c00d18"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a6dacdf7423d1e380a84a44f652c00d18">NEEDBITS_free_tl</a></div><div class="ttdeci">#define NEEDBITS_free_tl(n)</div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ae6d03ea01910257a961b0937d3cb0e2f"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ae6d03ea01910257a961b0937d3cb0e2f">FPRINTF</a></div><div class="ttdeci">#define FPRINTF</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00222">csz_inflate.cc:222</a></div></div>
<div class="ttc" id="astructhuft_html_a1d697b6254483448b765d053ed64cd50"><div class="ttname"><a href="../../d6/d5f/structhuft.html#a1d697b6254483448b765d053ed64cd50">huft::e</a></div><div class="ttdeci">uch e</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00248">csz_inflate.cc:248</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a20f833ac090893df719a5d9a4f268ea0"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a20f833ac090893df719a5d9a4f268ea0">csz__slide</a></div><div class="ttdeci">static uch csz__slide[32768]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00293">csz_inflate.cc:293</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a7edb6b8a8c89cb564d6e1b85ed80e7db"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a7edb6b8a8c89cb564d6e1b85ed80e7db">WSIZE</a></div><div class="ttdeci">#define WSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00214">csz_inflate.cc:214</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a975978135bb045acd9be64f65bd59ceb"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a975978135bb045acd9be64f65bd59ceb">csz__Inflate_codes</a></div><div class="ttdeci">int csz__Inflate_codes(struct huft *, struct huft *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00638">csz_inflate.cc:638</a></div></div>
<div class="ttc" id="astructhuft_html_a65c6f989d48d53e5d6d8216623b595e4"><div class="ttname"><a href="../../d6/d5f/structhuft.html#a65c6f989d48d53e5d6d8216623b595e4">huft::b</a></div><div class="ttdeci">uch b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00249">csz_inflate.cc:249</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ad53ef3669860a0578cb7eaa723a9ae1e"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ad53ef3669860a0578cb7eaa723a9ae1e">hufts</a></div><div class="ttdeci">static unsigned hufts</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00407">csz_inflate.cc:407</a></div></div>
<div class="ttc" id="aG4SIunits_8hh_html_ab65af9ad1ab66fac4ba26a865ae7ae13"><div class="ttname"><a href="../../d8/df2/G4SIunits_8hh.html#ab65af9ad1ab66fac4ba26a865ae7ae13">g</a></div><div class="ttdeci">static constexpr double g</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df2/G4SIunits_8hh_source.html#l00182">G4SIunits.hh:182</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a0909f9743b77b5e83d3e8e1d61989b10"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a0909f9743b77b5e83d3e8e1d61989b10">N_MAX</a></div><div class="ttdeci">#define N_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00404">csz_inflate.cc:404</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ab3731a4aa4bb04481dc95069bbfb7156"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ab3731a4aa4bb04481dc95069bbfb7156">NEEDBITS</a></div><div class="ttdeci">#define NEEDBITS(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00359">csz_inflate.cc:359</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a5f9ce15b04e12b0fd02a917e413d445c"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a5f9ce15b04e12b0fd02a917e413d445c">wp</a></div><div class="ttdeci">static unsigned wp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00294">csz_inflate.cc:294</a></div></div>
<div class="ttc" id="aG4SIunits_8hh_html_a464ce8bbf4d8ed92118001a70ba3f7ee"><div class="ttname"><a href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a></div><div class="ttdeci">static constexpr double m</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df2/G4SIunits_8hh_source.html#l00128">G4SIunits.hh:128</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a6145642815d95559b2f0761dc07587ed"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a6145642815d95559b2f0761dc07587ed">cpdext</a></div><div class="ttdeci">static ush cpdext[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00311">csz_inflate.cc:311</a></div></div>
<div class="ttc" id="aG4UrQMD1__3Interface_8hh_html_afd9406b647f860eb41700600ab9ff07e"><div class="ttname"><a href="../../d1/dfa/G4UrQMD1__3Interface_8hh.html#afd9406b647f860eb41700600ab9ff07e">n</a></div><div class="ttdeci">const G4int n</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dfa/G4UrQMD1__3Interface_8hh_source.html#l00143">G4UrQMD1_3Interface.hh:143</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a005a498a893ce490fb2ff1d556731817"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a005a498a893ce490fb2ff1d556731817">csz__Inflate_block</a></div><div class="ttdeci">int csz__Inflate_block(int *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01028">csz_inflate.cc:1028</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a1cac1dc93c4e59a35cbaf30ec0dc0768"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a1cac1dc93c4e59a35cbaf30ec0dc0768">csz__huft_build</a></div><div class="ttdeci">int csz__huft_build(unsigned *, unsigned, unsigned, ush *, ush *, struct huft **, int *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00410">csz_inflate.cc:410</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a6755c9bf578c3baa53e39982cae0d318"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a6755c9bf578c3baa53e39982cae0d318">bb</a></div><div class="ttdeci">static ulg bb</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00344">csz_inflate.cc:344</a></div></div>
<div class="ttc" id="astructhuft_html_a18bc2c68e4526cb49b6e5a529cda0b48"><div class="ttname"><a href="../../d6/d5f/structhuft.html#a18bc2c68e4526cb49b6e5a529cda0b48">huft::v</a></div><div class="ttdeci">union huft::@10 v</div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a4b0f9ae839819a2d95bd819b3d5e6726"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a4b0f9ae839819a2d95bd819b3d5e6726">lbits</a></div><div class="ttdeci">static int lbits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00398">csz_inflate.cc:398</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_aa7ea829683d128af149e36c3eb295e39"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#aa7ea829683d128af149e36c3eb295e39">csz__Inflate_dynamic</a></div><div class="ttdeci">int csz__Inflate_dynamic(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00854">csz_inflate.cc:854</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a3a0ad1dbe7d5b2b34fc003d49a45e749"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a3a0ad1dbe7d5b2b34fc003d49a45e749">csz__Inflate_fixed</a></div><div class="ttdeci">int csz__Inflate_fixed(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00806">csz_inflate.cc:806</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a3754180d606d4ed15468d15d9665aa2e"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a3754180d606d4ed15468d15d9665aa2e">ush</a></div><div class="ttdeci">unsigned short ush</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00210">csz_inflate.cc:210</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a95ce6355bc1f8c323d02159103ddb60e"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a95ce6355bc1f8c323d02159103ddb60e">csz__obufptr</a></div><div class="ttdeci">unsigned char * csz__obufptr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l01131">csz_inflate.cc:1131</a></div></div>
<div class="ttc" id="aG4SIunits_8hh_html_a91bd2634802c48a70d6bb1cb2ef24068"><div class="ttname"><a href="../../d8/df2/G4SIunits_8hh.html#a91bd2634802c48a70d6bb1cb2ef24068">s</a></div><div class="ttdeci">static constexpr double s</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/df2/G4SIunits_8hh_source.html#l00168">G4SIunits.hh:168</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a7a8a7319954693dded5a3e3914b1b80a"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a7a8a7319954693dded5a3e3914b1b80a">csz__fixed_bl</a></div><div class="ttdeci">int csz__fixed_bl</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00804">csz_inflate.cc:804</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a330a2ea4da1ce57c189821c8ebf59618"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a330a2ea4da1ce57c189821c8ebf59618">boolean</a></div><div class="ttdeci">char boolean</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00208">csz_inflate.cc:208</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_aede3b72e5da75143b6aef3d67c7b7346"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#aede3b72e5da75143b6aef3d67c7b7346">dbits</a></div><div class="ttdeci">static int dbits</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00399">csz_inflate.cc:399</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a75de43cc4baf11259d310b999e54c965"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a75de43cc4baf11259d310b999e54c965">DUMPBITS</a></div><div class="ttdeci">#define DUMPBITS(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00362">csz_inflate.cc:362</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a2d2fb64a2eb8705a76d0c367975c4a41"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a2d2fb64a2eb8705a76d0c367975c4a41">FLUSH</a></div><div class="ttdeci">#define FLUSH(n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00226">csz_inflate.cc:226</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a08c024be92841968ee54a785c693dd80"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a08c024be92841968ee54a785c693dd80">ibufptr</a></div><div class="ttdeci">static uch * ibufptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00346">csz_inflate.cc:346</a></div></div>
<div class="ttc" id="astructhuft_html_ad8ed4bca891d3b0c83e7b7d1a1f4a250"><div class="ttname"><a href="../../d6/d5f/structhuft.html#ad8ed4bca891d3b0c83e7b7d1a1f4a250">huft::t</a></div><div class="ttdeci">struct huft * t</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00252">csz_inflate.cc:252</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a21324ffad45ac8bdf62df4e2a808a26f"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a21324ffad45ac8bdf62df4e2a808a26f">ibufcnt</a></div><div class="ttdeci">static long ibufcnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00347">csz_inflate.cc:347</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_af3307af5922c72924a837559c801a8a4"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#af3307af5922c72924a837559c801a8a4">uch</a></div><div class="ttdeci">unsigned char uch</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00209">csz_inflate.cc:209</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a3a8425d5171dc5d9702ce2732deebf9b"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a3a8425d5171dc5d9702ce2732deebf9b">csz__fixed_bd</a></div><div class="ttdeci">int csz__fixed_bd</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00804">csz_inflate.cc:804</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_ab7a94d7a7cc01671533eccd5fd2a15b4"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#ab7a94d7a7cc01671533eccd5fd2a15b4">cplens</a></div><div class="ttdeci">static ush cplens[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00300">csz_inflate.cc:300</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_aac9cb3d070de1f0f60b080c28d2b6fcc"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#aac9cb3d070de1f0f60b080c28d2b6fcc">cpdist</a></div><div class="ttdeci">static ush cpdist[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00307">csz_inflate.cc:307</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a2b28c3db1cf80563b5621a211f6807b1"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a2b28c3db1cf80563b5621a211f6807b1">csz__Inflate_stored</a></div><div class="ttdeci">int csz__Inflate_stored(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00748">csz_inflate.cc:748</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a3994986495f00191289282c318fb7f38"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a3994986495f00191289282c318fb7f38">bk</a></div><div class="ttdeci">static unsigned bk</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00345">csz_inflate.cc:345</a></div></div>
<div class="ttc" id="aG4BOptrForceCollisionTrackData_8hh_html_a9a21b500f0862c643e56e6b776852ad8aaa2d6e4f578eb0cfaba23beef76c2194"><div class="ttname"><a href="../../d1/d10/G4BOptrForceCollisionTrackData_8hh.html#a9a21b500f0862c643e56e6b776852ad8aaa2d6e4f578eb0cfaba23beef76c2194">ForceCollisionState::free</a></div></div>
<div class="ttc" id="acsz__inflate_8cc_html_a49a521846ac40374989a4287e90c97b6"><div class="ttname"><a href="../../d7/d71/csz__inflate_8cc.html#a49a521846ac40374989a4287e90c97b6">obufcnt</a></div><div class="ttdeci">static long obufcnt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d71/csz__inflate_8cc_source.html#l00347">csz_inflate.cc:347</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
