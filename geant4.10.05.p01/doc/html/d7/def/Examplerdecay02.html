<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example rdecay02</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example rdecay02 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Rdecay02 is created to show how to use the <a class="el" href="../../df/d5e/classG4RadioactiveDecay.html">G4RadioactiveDecay</a> process to simulate the decays of radioactive isotopes as well as the induced radioactivity resulted from nuclear interactions.</p>
<p>In this example a simple geometry consists of a cylindric target placed in the centre of a tube detector. Various primary event generation and tallying options are available.</p>
<h1><a class="anchor" id="rdecay02_s1"></a>
GEOMETRY</h1>
<pre class="fragment">The world is filled with "Air" and there are two components in it:       

- Target:  A cylinder placed at the origin along the z-axis. The default 
  size of the cylinder is 0.5 cm radius and 1 cm length, and its default 
  material is "CsI".

- Detector: A tube centered at the origin along the z-axis, with inner 
  radius matching the radius of the target. The default thickness of the 
  tube is 2 cm and it is 5 cm long. The default material is "Germanium".

The user can change the target/detector size and material, using the 
commands in the directory
</pre> <pre class="fragment">/rdecay02/det
</pre><p> <br  />
</p>
<h1><a class="anchor" id="rdecay02_s2"></a>
PHYSICS</h1>
<pre class="fragment">The following physics processes are included by default:

 - Standard electromagnetic
 - Decay
 - Radioactive Decay
     By default radioactive decay is applied through out the geometry.
     The user can limit it to just the target by commands :
            /grdm/noVolumes
            /grdm/selectVolume Target

 - Hadronic processes
</pre><h1><a class="anchor" id="rdecay02_s3"></a>
EVENT: THE PRIMARY GENERATOR</h1>
<pre class="fragment">The primary kinematic is a single particle or ion shooted at the 
centre of the target. The type of the particle and its energy are set in 
PrimaryGeneratorAction, and can be changed via the G4 build-in commands of
ParticleGun class (see the macros provided with this example).
Default is Ne24, at rest.
</pre><h1><a class="anchor" id="rdecay02_s4"></a>
DETECTOR RESPONSE</h1>
<pre class="fragment">The relevant informations are collected in TrackingAction or 
SteppingAction. These include:

- Emission particles in the RadioactiveDecay process: 
    particle PDGcode,
    particle kinetic energy,
    particle creation time,
    particle weight.

    Note: the residual nuclei is not considered as an emitted particle.

- Radio-Isotopes. All the radioactive isotopes produced in the simulation: 
    isotope  PDGcode,
    isotope  creation time,
    isotope  weight.

- Energy depositions in the target and detector by prodicts of the 
  RadioactiveDecay process: 
    energy depostion (positive value for target and negative for detector), 
    time,
    weight.
</pre><h1><a class="anchor" id="rdecay02_s5"></a>
HISTOGRAMS</h1>
<p>The test contains 7 built-in 1D histograms, which are managed by G4AnalysisManager and its Messenger. The histos can be individually activated with the command : </p><pre class="fragment">   /analysis/h1/set id nbBins  valMin valMax unit 
</pre><p> <br  />
 where unit is the desired unit for the histo (MeV or keV, etc..) (see the macros xxxx.mac). </p><pre class="fragment"> histogram 0: The Pulse Height Spectrum (PHS) of the target.
 histogram 1: The PHS of the detector.
 histogram 2: The combined PHS of the target and detector.
 histogram 3: The anti-coincidece PHS of the target.
 histogram 4: The anti-coincidece PHS of the detector.
 histogram 5: The coincidece PHS between the target and detector.
 histogram 6: The emitted particle energy spectrum.
</pre><p>It is assumed the detector and target pulses both have an integration time of 1 microsecond, and the gate is 2 microsecond for the coincidence spectrum. The target and detctor have a threshold of 10 keV in the anti-/coincidence modes.</p>
<p><a class="el" href="../../d4/dcd/classHistoManager.html">HistoManager</a> includes also 4 ntuples whose contents are described in the above paragraphe (detector response) The ntuples can be activated with the command </p><pre class="fragment">   /analysis/ntuple/setActivation
</pre><p>One can control the name of the analysis file with the command: </p><pre class="fragment">   /analysis/setFileName  name  (default rdecay02)
</pre><p> <br  />
</p>
<p>It is possible to choose the format of the histogram file : root (default), xml, csv, by using namespace in HistoManager.hh</p>
<p>It is also possible to print selected histograms on an ascii file: </p><pre class="fragment">   /analysis/h1/setAscii id
</pre><p> <br  />
 All selected histos will be written on a file name.ascii (default rdecay02)</p>
<h1><a class="anchor" id="rdecay02_s6"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the <a class="el" href="../../d8/d8f/genwindef_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>. The initialisation of the drawing is done via the commands /vis/... in the macro vis.mac. To get visualisation: </p><pre class="fragment">   &gt; /control/execute vis.mac
</pre><p> <br  />
 The tracks are drawn at the end of event, and erased at the end of run.</p>
<p>gamma green <br  />
 neutron yellow negative particles (e-, ...) red positive particles (e+, ions, ...) blue</p>
<h1><a class="anchor" id="rdecay02_s7"></a>
HOW TO START ?</h1>
<p>Execute rdecay02 in 'batch' mode from macro files : </p><pre class="fragment">        % rdecay02   run1.mac
</pre><p> <br  />
</p>
<p>Execute rdecay02 in 'interactive mode' with visualization : </p><pre class="fragment">        % rdecay02
        Idle&gt; control/execute vis.mac
        ....
        Idle&gt; type your commands
        ....
        Idle&gt; exit
</pre><p> <br  />
</p>
<h1><a class="anchor" id="rdecay02_s8"></a>
FURTHER EXAMPLES</h1>
<p>There are a number of g4mac files in the ./macros subdirectory, to show the features of the <a class="el" href="../../df/d5e/classG4RadioactiveDecay.html">G4RadioactiveDecay</a> process. Most of them will lead to the creation of an root file in the same name of the macro file.</p>
<p><a class="el" href="../../d0/d6d/u238c_8mac.html">u238c.mac</a>: shows the decays of the U238 chain in analogue MC mode.</p>
<p><a class="el" href="../../d9/d02/th234c-b_8mac.html">th234c-b.mac</a>: shows the decays of Th234 in variance reduction MC mode. All its secondaies in along the decay chains are generated. The default source profile and decay biasing schemes are used to determine the decay times and weights of the secondaries.</p>
<p>proton.mac: simulation of 1 GeV protons incident on a lead target. The decays of the radio-siotopes created in the proton-lead interactions are simulated with RadioactiveDecay in analogue MC mode. <br  />
</p>
<p><a class="el" href="../../d2/d45/proton-beam_8mac.html">proton-beam.mac</a>: same as proton.mac, but the decays of the radio-siotopes created in the proton-lead interactions are simulated with RadioactiveDecay in variance reduction MC mode. The isotopes and those along the decay chains are forced to decay in the time windows specified by the user in file measures.data, and the weights of the decay products are determined by the beam profile as defined in the beam.data file and their decay times.</p>
<p>neutron.mac: macrofile to show the incident of low energy neutrons on an user specified NaI target and the decays of the induced radio-isotopes.</p>
<p><a class="el" href="../../dd/d26/ne24_8mac.html">ne24.mac</a>: this shows the decays of Ne-24 to Na-24 in variance reduction MC mode. Further decays of Na-24 are not simulated by applying the nucleuslimits in RadioactiveDecay. Two runs are carried out. One with the bracjing ratio biasing applied and one without.</p>
<p><a class="el" href="../../d9/dda/isotopes_8mac.html">isotopes.mac</a>: to show the decays of a number of different isotopes in a single macro file.</p>
<p><a class="el" href="../../d7/d0d/f24_8mac.html">f24.mac</a>: to show the different treatments one can apply to the decays of F24. i) the complete decay chain from F24 to Mg24, in analogue mode; ii) the complete chain, but in variance reduction mode; iii) restrict to the decay of F24 only in analogue mode; iv) restrict to the decay of F24 only but in variance reduction mode.</p>
<p><a class="el" href="../../d2/ddf/as74_8mac.html">as74.mac</a>: The decays of As74 which has a rather complicated decay scheme. i) in analogue MC mode; ii) in variance reduction MC mode.</p>
<p><a class="el" href="../../d9/d76/UserRadDataPb210Test_8mac.html">UserRadDataPb210Test.mac</a>: show how the user can define its own radioactive decay datafile</p>
<p><a class="el" href="../../d7/dc3/UserEvapDataBiTest_8mac.html">UserEvapDataBiTest.mac</a>: show how the user can define its own photo-evaporation datafile</p>
<p><a class="el" href="../../da/d41/No252_8mac.html">No252.mac</a>: show how to simulate Radoactive decay for nuclei with Z&gt;100 based on user datafile </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
