<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example Hadr01</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example Hadr01 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>A.Bagulya, I.Gudowska, V.Ivanchenko, N.Starkov <br  />
CERN, Geneva, Switzerland <br  />
Karolinska Institute &amp; Hospital, Stockholm, Sweden <br  />
Lebedev Physical Institute, Moscow, Russia</dd></dl>
<p>This example application is based on the application IION developed for simulation of proton or ion beam interaction with a water target. Different aspects of beam target interaction are demonstrating in the example including longitudinal profile of energy deposition, spectra of secondary particles, spectra of particles leaving the target. The results are presenting in a form of average numbers and histograms.</p>
<h1><a class="anchor" id="Hadr01_s1"></a>
GEOMETRY</h1>
<p>The Target volume is a cylinder placed inside Check cylindrical volume. The Check volume is placed inside the World volume. The radius and the length of the Check volume are 1 mm larger than the radius and the length of the Target. The material of the Check volume is the same as the World material. The World volume has the sizes 10 mm larger than that of the Target volume. Any material from the Geant4 database can be defined. The default World material is G4Galactic and the default Target material is aluminum. The Target is subdivided on number of equal slices. Following UI commands are available to modify the geometry:</p>
<pre class="fragment">/testhadr/TargetMat     G4_Pb
/testhadr/WorldMat      G4_AIR
/testhadr/TargetRadius  10 mm
/testhadr/TargetLength  20 cm
/testhadr/NumberDivZ    200
</pre><p>Beam direction coincides with the target axis and is Z axis in the global coordinate system. The beam starts 5 mm in front of the target. <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> is used as a primary generator. The energy and the type of the beam can be defined via standard UI commands</p>
<pre class="fragment">/gun/energy   15 GeV
/gun/particle proton
</pre><p>Default beam position is -(targetHalfLength + 5*mm) and direction along Z axis. Beam position and direction can be changed by gun UI commands:</p>
<pre class="fragment">/gun/position  1 10 3 mm
/gun/direction 1 0 0
</pre><p>however, position command is active only if before it the flag is set</p>
<pre class="fragment">/testhadr/DefaultBeamPosition false   
</pre><h1><a class="anchor" id="Hadr01_s2"></a>
SCORING</h1>
<p>The scoring is performed with the help of UserStackingAction class and two sensitive detector classes: one associated with a target slice, another with the Check volume. Each secondary particle is scored by the <a class="el" href="../../d4/d47/classStackingAction.html" title="Stacking action class : manage the newly generated particles.">StackingAction</a>. In the <a class="el" href="../../d4/d47/classStackingAction.html" title="Stacking action class : manage the newly generated particles.">StackingAction</a> it is also possible to kill all or one type of secondary particles</p>
<pre class="fragment">/testhadr/Kill             neutron
/testhadr/KillAllSecondaries  
</pre><p>To control running the following options are available:</p>
<pre class="fragment">/testhadr/PrintModulo      100
/testhadr/DebugEvent       977
</pre><p>The last command selects an events, for which "/tracking/verbose 2" level of printout is established.</p>
<h1><a class="anchor" id="Hadr01_s3"></a>
PHYSICS</h1>
<p><a class="el" href="../../d2/daa/classPhysicsList.html">PhysicsList</a> of the application uses reference Phsyics Lists or its components, which are distributed with Geant4 in /geant4/physics_lists subdirectory.</p>
<p>The reference Physics List name may be defined in the 3d argument of the run command:</p>
<pre class="fragment">Hadr01 my.macro QGSP_BERT 
</pre><p>If 3d argument is not set then the PHYSLIST environment variable is checked. If both are not defined then reference Phsyics Lists is not instantiated, instead the local Physics List is used which is built from components using UI interface. The choice of the physics is provided by the UI command:</p>
<pre class="fragment">/testhadr/Physics     QGSP_BIC
</pre><p>To see the list of available configurations with UI one can use</p>
<pre class="fragment">/testhadr/ListPhysics
</pre><p>The cuts for electromagnetic physics can be established via</p>
<pre class="fragment">/testhadr/CutsAll       1 mm
/testhadr/CutsGamma   0.1 mm
/testhadr/CutsEl      0.2 mm
/testhadr/CutsPos     0.3 mm
/testhadr/CutsProt    0.6 mm
</pre><p>Note that testhadr UI commands are not available in the case when PHYSLIST environment variable is defined.</p>
<h1><a class="anchor" id="Hadr01_s4"></a>
VISUALIZATION</h1>
<p>For interactive mode G4 visualization options and variables should be defined, then the example should be recompiled:</p>
<pre class="fragment">gmake visclean
gmake
</pre><h1><a class="anchor" id="Hadr01_s5"></a>
HISTOGRAMS</h1>
<p>There are built in histograms. The 1st one (idx=0, id="1") scores energy deposition along the target. Histograms "22", "23", "24", "25" scores energy deposition per particle type.</p>
<p>All other histograms are provided in decimal logarithmic scale (log10(E/MeV), where E is secondary particle energy at production</p>
<p>It is possible to change scale and output file name using UI commands:</p>
<pre class="fragment">/testhadr/histo/fileName name
/testhadr/histo/setHisto idx nbins vmin vmax unit
</pre><p>Only ROOT histograms are available.</p>
<p>All histograms are normalized to the number of events. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
