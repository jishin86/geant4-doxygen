<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example splitting</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example splitting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Splitting_s1"></a>
Authorship</h1>
<p>Authors: J. A. Ramos-Mendez and B. A. Faddegon</p>
<p>Department of Radiation Oncology, University of California San Francisco</p>
<p>This example is provided by the Geant4-DNA collaboration.</p>
<p>These processes and models are further described at: <a href="http://geant4-dna.org">http://geant4-dna.org</a></p>
<p>Any report or published results obtained using the Geant4-DNA software shall cite the following Geant4-DNA collaboration publications: Phys. Med. 31 (2015) 861-874 Med. Phys. 37 (2010) 4692-4708</p>
<p>If use this example, please cite J Ramos-Mendez, et. Al. Phys. Med. Biol. 62(15), 5908-5925, (2017) DOI: 10.1088/1361-6560/aa7831</p>
<h1><a class="anchor" id="Splitting_s2"></a>
A brief description</h1>
<p>The Splitting example uses variance reduction to improve the computational efficiency of calculations of ionization cluster size distributions. Ionization events are scored in a nanoscaled cylinder. Ionized electrons generated by the first generation of secondary electrons are split, i.e. new clone electrons are generated, labeled and propagated. The label is used to classify those new particles as if they were produced by independent histories to avoid overlapping of tracks at final analysis. The Splitting is performed only if the ionization event occurred in the cylinder.</p>
<p>Geant4-DNA processes are used.</p>
<p>The example package contains:</p><ul>
<li>source files (src, include)</li>
<li>README</li>
<li>.in, plot.C and visualization macro files</li>
</ul>
<h1><a class="anchor" id="Splitting_s3"></a>
Set-up</h1>
<p>The geometry is a nanoscaled cylinder centered in the world. The medium is water everywhere. The dimensions can be defined with </p><pre class="fragment">/detector/diameter 6   nm
/detector/length   10 nm
</pre><p>User can define the split number (default is 1, i.e. no split) with: </p><pre class="fragment">/vrt/numberOfSplit 10
</pre><h1><a class="anchor" id="Splitting_s3"></a>
Set-up</h1>
<p>In interactive mode, run: </p><pre class="fragment">./Splitting
Idle&gt; /control/execute vis.mac
</pre><p>In batch mode , run: </p><pre class="fragment">./Splitting run.mac
</pre><p>To get visualization, make sure to uncomment the #/control/execute vis.mac line in the macro.</p>
<h1><a class="anchor" id="Splitting_s4"></a>
Physics</h1>
<p>This example shows:</p><ul>
<li>how to use the Geant4-DNA processes,</li>
<li>how to implement the Splitting via G4WrappedProcess</li>
<li>how to set the Splitting in specific region</li>
<li>how to propagate new track information to secondary particles</li>
</ul>
<p>A simple electron capture process is also provided in order to kill electrons below a chosen energy threshold, set in the Physics list.</p>
<p>Look at the PhyscisList.cc file.</p>
<h1><a class="anchor" id="Splitting_s5"></a>
Simulation output</h1>
<p>The output results consists in two histograms in root format</p>
<ul>
<li>the energy deposit in the cylindrical target</li>
<li>the frequency distribution of ionization cluster size</li>
</ul>
<h2><a class="anchor" id="Splitting_sub_s1"></a>
Important</h2>
<p>Every time a value is added to a ROOT histogram, it contributes to the statistics. For this example, to correct estimate the uncertainties is recommended to split the simulation into several jobs and to calculate the statistics from them: batch mode. Otherwise, the statistical uncertainty may be underestimated.</p>
<h1><a class="anchor" id="Splitting_s6"></a>
Contact</h1>
<p>If you have any questions or wish to notify of updates and/or modification please contact:</p>
<p>J. Ramos-Mendez at <a href="#" onclick="location.href='mai'+'lto:'+'jos'+'er'+'m84'+'@g'+'mai'+'l.'+'com'; return false;">joser<span style="display: none;">.nosp@m.</span>m84@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a></p>
<h1><a class="anchor" id="Splitting_s7"></a>
Acknowledgments</h1>
<p>Sebastien Incerti (CNRS) for its guidance </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
