<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example TestEm6</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example TestEm6 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example is intended to test the processes of gamma conversion to a pair of muons and annihilation of positrons with atomic electrons to a pair of muons.</p>
<h1><a class="anchor" id="TestEm6_s1"></a>
GEOMETRY DEFINITION</h1>
<p>The geometry consists of a single block of a homogenous material.</p>
<p>Two parameters define the geometry :</p><ul>
<li>the material of the box,</li>
<li>the (full) size of the box. The default is 500 m of iron.</li>
</ul>
<p>In addition a transverse uniform magnetic field can be applied.</p>
<p>The default geometry is constructed in <a class="el" href="../../dc/d5b/classDetectorConstruction.html" title="Simple detector construction with a box volume placed in a world.">DetectorConstruction</a> class, but all of the above parameters can be changed interactively via the commands defined in the <a class="el" href="../../d6/d1f/classDetectorMessenger.html" title="Messenger class that defines commands for DetectorConstruction.">DetectorMessenger</a> class.</p>
<h1><a class="anchor" id="TestEm6_s2"></a>
PHYSICS LIST</h1>
<p>Physics Lists are based on modular design. Several modules are instantiated:</p><ol type="1">
<li>Transportation</li>
<li>EM physics</li>
<li>Decays</li>
<li><a class="el" href="../../dd/dcc/classStepMax.html">StepMax</a> - for step limitation</li>
</ol>
<p>The electromagnetic physics is chosen from one of the Geant4 EM physics constructors in the physics_list library.</p>
<p>Cross sections can be enhanced (see below).</p>
<h1><a class="anchor" id="TestEm6_s3"></a>
AN EVENT : THE PRIMARY GENERATOR</h1>
<p>The primary kinematic consists of a single particle which hits the block perpendicular to the input face. The type of the particle and its energy are set in the <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> class, and can changed via the G4 build-in commands of <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> class (see the macros provided with this example). The default is a Gamma of 100 TeV.</p>
<p>In addition one can choose randomly the impact point of the incident particle. The corresponding interactive command is built in <a class="el" href="../../d2/df6/classPrimaryGeneratorMessenger.html">PrimaryGeneratorMessenger</a> class.</p>
<p>A RUN is a set of events.</p>
<h1><a class="anchor" id="TestEm6_s4"></a>
VISUALIZATION</h1>
<p>The Visualization Manager is set in the <a class="el" href="../../d8/d8f/genwindef_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a> (see <a class="el" href="../../d0/df0/TestEm6_8cc.html" title="Main program of the electromagnetic/TestEm6 example.">TestEm6.cc</a>). The initialisation of the drawing is done via the command </p><pre class="fragment">&gt; /control/execute vis.mac
</pre><p>The detector has a default view which is a longitudinal view of the box.</p>
<p>The tracks are drawn at the end of event, and erased at the end of run. Optionally one can choose to draw all particles, only the charged ones, or none. This command is defined in <a class="el" href="../../d9/dc4/classEventActionMessenger.html">EventActionMessenger</a> class.</p>
<h1><a class="anchor" id="TestEm6_s5"></a>
PHYSICS DEMO</h1>
<p>The particle's type and the physics processes which will be available in this example are set in <a class="el" href="../../d2/daa/classPhysicsList.html">PhysicsList</a> class.</p>
<p>In addition a build-in interactive command (/process/inactivate procname) allows to activate/inactivate the processes one by one.</p>
<p>The threshold for producing secondaries can be changed. eg: </p><pre class="fragment">/run/particle/setCut 100 micrometer
/run/initialize
</pre><p>To visualize the GammaConversionToMuons : </p><pre class="fragment">/control/execute run01.mac
/control/execute vis.mac
/run/beamOn
</pre><p>To visualize the AnnihiToMuPair : </p><pre class="fragment">/control/execute run11.mac
/control/execute vis.mac
/run/beamOn
</pre><h1><a class="anchor" id="TestEm6_s6"></a>
HOW TO START ?</h1>
<ul>
<li>Execute Test in 'batch' mode from macro files <pre class="fragment">% TestEm6    run01.mac
</pre></li>
<li>Execute Test in 'interactive mode' with visualization <pre class="fragment">% TestEm6 
        ....
Idle&gt; type your commands
        ....
Idle&gt; exit
</pre></li>
</ul>
<h1><a class="anchor" id="TestEm6_s7"></a>
HOW TO INCREASE STATISTICS ON gamma -&gt; mu+mu- ?</h1>
<p>The processes of gamma -&gt; mu+mu- and e+e- -&gt; mu+mu- have a low cross section but can be important for leakage through thick absorbers and calorimeters. Straight forward simulation will be quite time consuming. To make the processes more visible, the cross section can be artificially increased by some factor (here 1000) using the commands (only effective after /run/initialize)</p>
<pre class="fragment">/testem/phys/SetGammaToMuPairFac  1000
/testem/phys/SetAnnihiToMuPairFac 1000
</pre><h1><a class="anchor" id="TestEm6_s8"></a>
HISTOGRAMS</h1>
<p>Testem6 produces 6 histograms which illustrate the final state of the GammaConversionToMuons process. See their definitions in RunAction.cc <br  />
</p>
<p>By default the histograms are saved as testem6.root</p>
<p>The format of the histogram file can be : root (default), xml, csv, by selecting g4nnn.hh in RunAction.hh <br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
