<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example TestEm9</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example TestEm9 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Demonstrate electromagnetic physics in crystal calorimeters.</li>
<li>How to define cut-per-region.</li>
</ul>
<h1><a class="anchor" id="TestEm9_s1"></a>
GEOMETRY DEFINITION</h1>
<p>The geometry consists of the vertex detector (VD), the electromagnetic calorimeter (EM), and the muon identifier (MU). Detector layout along the Z axis.</p>
<p>VD consisted of 3 layers of Si with pads structured along the X axis. Between VD and EM there are 2 active absorbers (scintillators). EM is the matrix 5x5 of heavy crystals. MU consist of 2 active absorbers (scintillators) and the iron plate between.</p>
<p>2 regions additional to the World are defined: VertexDetector and MuonDetector. For testing purposes first absorber of MU is included in the region of VD.</p>
<p>Material of calorimeter and absorber can be choosen: <br  />
 Air Water lAr Al Fe BGO PbWO4 Pb. <br  />
 Eg: </p><pre class="fragment">/testem/det/CalMat PbWO4
/testem/det/AbsMat Al
</pre><p>The size of the detector can be changed also.<br  />
 Eg: </p><pre class="fragment">/testem/det/EcalLength   20  cm
/testem/det/EcalWidth     5  cm
/testem/det/update             ---&gt; rebuild the geometry
</pre><h1><a class="anchor" id="TestEm9_s2"></a>
PHYSICS LISTS</h1>
<p>Physics Lists are based on modular design. Several modules are instantiated:</p><ol type="1">
<li>Transportation</li>
<li>EM physics</li>
<li>Decays</li>
<li><a class="el" href="../../dd/dcc/classStepMax.html">StepMax</a> - for step limitation</li>
</ol>
<p>The following options for EM physics using builders from physics_lists sub-package are available:</p><ul>
<li>"emstandard_opt0" recommended standard EM physics for LHC</li>
<li>"emstandard_opt1" best CPU performance standard physics for LHC</li>
<li>"emstandard_opt2" similar fast simulation</li>
<li>"emstandard_opt3" best standard EM options - analog to "local" above</li>
<li>"emstandard_opt4" best current advanced EM options standard + lowenergy</li>
<li>"emstandardWVI" standard EM physics and WentzelVI multiple scattering</li>
<li>"emstandardSS" standard EM physics and single scattering model</li>
<li>"emstandardGS" standard EM physics and Goudsmit-Saunderson multiple scatt.</li>
<li>"emlivermore" low-energy EM physics using Livermore data</li>
<li>"empenelope" low-energy EM physics implementing Penelope models</li>
<li>"emlowenergy" low-energy EM physics implementing experimental low-energy models</li>
</ul>
<p>A local builder, <a class="el" href="../../d7/d78/classPhysListEmStandard.html">PhysListEmStandard</a> "local" (similar to opt0) is also available.</p>
<p>Optional components can be added:</p><ul>
<li>"elastic" elastic scattering of hadrons</li>
<li>"binary" <a class="el" href="../../da/dbe/classQBBC.html">QBBC</a> configuration of hadron/ion inelastic models</li>
<li>"gamma_nuc" gamma- and electro-nuclear processes</li>
<li>"stopping" stopping processes</li>
</ul>
<h1><a class="anchor" id="TestEm9_s3"></a>
AN EVENT : THE PRIMARY GENERATOR</h1>
<p>The primary kinematic consists of a single particle which hits the cylinder perpendicular to the input face. The type of the particle and its energy are set in the <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> class, and can changed via the G4 build-in commands of <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> class.</p>
<h1><a class="anchor" id="TestEm9_s4"></a>
OUTPUT</h1>
<p>The batch regime of simulation can be started </p><pre class="fragment">$G4WORKDIR/bin/$G4SYSTEM/TestEm9 TestEm9.in
</pre><p> where TestEm9.in is the example of macro file for batch job.</p>
<p>As a result of simulation the number of secondaries produced in different regions are averaged. The average energy depositions in active absorbers and EM as well as RMS of these values are shown. The number of hits in pads of VD is printed out.</p>
<h1><a class="anchor" id="TestEm9_s5"></a>
VISUALISATION</h1>
<p>To use visualisation the environment variable G4_VIS_USE should be defined. An interactive session starts if no macro file is specified in the command line: </p><pre class="fragment">$G4WORKDIR/bin/$G4SYSTEM/TestEm9
</pre><p>To start visualisation one can issur </p><pre class="fragment">&gt;/control/execute vis.mac
&gt;/run/beamOn 1
</pre><h1><a class="anchor" id="TestEm9_s6"></a>
ANALYSIS</h1>
<p>Number of histograms are built inside the example using internal analysis sub-package. Histograms are saved in a root file. Histogram booking and saving is done only if any of histogram</p>
<pre class="fragment">/testem/histo/fileName myname
/testem/histo/setHisto id nbins xmin xmax unit
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
