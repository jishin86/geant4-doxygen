<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: How to build and run an example</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">How to build and run an example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All novice, basic and most of extended examples have a similar structure. The main () function is included in <em>exampleXYZ.cc</em> in the example top directory and the example source code is structered in <em>include</em> and <em>src</em> subdirectories. When the example is built, the executable takes the same name as the file with main () function without <em></em>.cc extension, <em>exampleXYZ</em>.</p>
<p>Then several macros are provided to run the example with various start-up conditions. These macros have usually <em></em>.mac extension. Besides these macros, there is often a macro <em>exampleXYZ.in</em> (note its different extension) which is used in Geant4 testing and which output, <em>exampleXYZ.out</em>, can be also included in the distribution.</p>
<p>You can find all details about building the examples in the <a href="http://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/InstallationGuide/html/index.html">Geant4 Installation Guide </a>, in the section <a href="http://geant4.web.cern.ch/geant4/UserDocumentation/UsersGuides/InstallationGuide/html/ch03s02.html">3.2. Building Applications with Geant4 </a>. Here we recall only the basics.</p>
<h1><a class="anchor" id="HowToRun_s1"></a>
Compile and link to generate an executable</h1>
<h2><a class="anchor" id="HowToRun_subs11"></a>
With CMake</h2>
<pre class="fragment">% cd path_to_exampleXYZ     # go to directory which contains your example
% mkdir exampleXYZ_build
% cd exampleXYZ_build
% cmake -DGeant4_DIR=path_to_Geant4_installation/lib[64]/Geant4-10.2.0/ ../exampleXYZ
% make -j N exampleXYZ      # "N" is the number of processes 
% make install              # this step is optional              
</pre><h2><a class="anchor" id="HowToRun_subs12"></a>
With GNUmake</h2>
<p>To use GNUmake build system when Geant4 was installed with CMake, you have to source first the setup script in order to define needed environment variables: </p><pre class="fragment">source path_to_Geant4_installation/share/Geant4-10.2.0/geant4make/geant4make.[c]sh 
</pre><p>Then to build example </p><pre class="fragment">% cd path_to_exampleXYZ/exampleXYZ
% gmake
</pre><p>An additional step is needed when building an example using shared classes (usually from ../shared directory) or classes from <a class="el" href="../../d5/dd4/Examples_common.html">common </a>: </p><pre class="fragment">% cd path_to_exampleXYZ/exampleXYZ
% gmake setup
% gmake
</pre><p>When building the example in this way make sure that the path to the example executable and its shared library is added in the paths defined on your system (eg. PATH and LD_LIBRARY_PATH on Linux).</p>
<h1><a class="anchor" id="HowToRun_s2"></a>
Execute exampleXYZ in 'batch' mode from macro files</h1>
<pre class="fragment">... go to the directory where the example was built/installed
% exampleXYZ  xyz.mac
</pre><h1><a class="anchor" id="HowToRun_s3"></a>
Execute exampleXYZ in 'interactive mode' with visualization</h1>
<pre class="fragment">... go to the directory where the example was built/installed
% exampleXYZ
....
Idle&gt; type your commands
....
Idle&gt; exit
</pre><p>See also the explicit instructions for building TestEm1 example at <a class="el" href="../../d3/d62/README_HowToRunTestEm1.html">How to build and run TestEm1 example</a> page. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
