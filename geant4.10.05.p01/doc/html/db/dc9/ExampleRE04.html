<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example RE04</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example RE04 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Contact : M.Asai (SLAC)</p>
<h1><a class="anchor" id="RE04_s1"></a>
Introduction</h1>
<p>This example demonstrates how to define a layered mass geometry in parallel world. In the mass (tracking) world, there are two boxes only. One is the world volume and the other is a box in the world. They both are made of air. Thus, if tracks do not see materials (water and lead) defined in the parallel world, they rarely interact. In the parallel world, there are boxes made of water and lead.</p>
<h2><a class="anchor" id="RE04_s11"></a>
Geometry</h2>
<p><a class="el" href="../../d9/ddb/classRE04DetectorConstruction.html" title="User detector construction class.">RE04DetectorConstruction</a> defines the mass (tracking) geometry. It firstly defines all materials which apear either in mass world or parallel world. Then in SetupGeometry() method, it defines the world volume and a box named "phantom". Both boxes are made of air.</p>
<p><a class="el" href="../../da/d20/classRE04ParallelWorldConstruction.html" title="A parallel world construction class.">RE04ParallelWorldConstruction</a> defines the parallel world. For a parallel world, solid, logical and physical volumes which represent parallel world must not be created here but should be taken through <a class="el" href="../../d6/dfb/classG4VUserParallelWorld.html#a304248e8ea13f78c16014bae37d4a3fe">G4VUserParallelWorld::GetWorld()</a> method which creates clones of solid, logical and physical volumes of the world volume of the mass world. Please note that this cloned logical volume of the parallel world volume does not have a valid pointer to aa material but null.</p>
<p>In the parallel world, if a logical volume has a valid material pointer, a track in this volume (precisely saying a physical volume which is made of this logical volume) will see the material defined in this logical volume, regardless of the material in the mass geometry. If a logical volume has a null material pointer, a track will see the ordinary material defined in the mass world.</p>
<p><a class="el" href="../../da/d20/classRE04ParallelWorldConstruction.html" title="A parallel world construction class.">RE04ParallelWorldConstruction</a> defines one placement volume of box-shape, which is made of water, and a mother box (placement volume with null material pointer), which contains parameterized volumes. <a class="el" href="../../d6/d23/classRE04ParallelWorldParam.html" title="Parameterisation class for volumes in a parallel world.">RE04ParallelWorldParam</a> class defines a parameterization of the parameterized volume "paraPara", which represents two boxes at different locations and made of water and lead respectively.</p>
<h2><a class="anchor" id="RE04_s12"></a>
Physics</h2>
<p>RE04PhysicsList uses ordinary physics builders. It also defines <a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> which deals with the parallel world. This <a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> is an extension of <a class="el" href="../../d7/d56/classG4ParallelWorldScoringProcess.html">G4ParallelWorldScoringProcess</a>. If SetLayeredMaterialFlag() of this process class is invoked, in addition to taking care of sensitive detectors in the parallel world, it also takes care of layered mass geometry. If this set method is not invoked, it behaves exactly same as <a class="el" href="../../d7/d56/classG4ParallelWorldScoringProcess.html">G4ParallelWorldScoringProcess</a>. The constructor of <a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> takes the name of the parallel world physical volume as an argument.</p>
<p><a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> may be associated only to some limited kinds of particle types. The parallel world is seen only bythe particles which have <a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> in their process manager objects. In this RE04 example <a class="el" href="../../de/dbf/classG4ParallelWorldProcess.html">G4ParallelWorldProcess</a> is defined to all particle types except ChargedGeantino. Thus, if you shoot CargedGeantino, it won't see any volume boundary defined in the parallel world.</p>
<h1><a class="anchor" id="RE04_s2"></a>
Macro files</h1>
<p>The macro file "score.mac" defines a scoring mesh which covers the "Phantom" and scores energy deposition. It shoots 1000 primary particles (by default 10 GeV muon-). Though the mass world has only air, given tracks, both primary muons and secondary particles see water and lead defined in the parallel world, you will see the energy deposition is not evenly distributed.</p>
<h1><a class="anchor" id="RE04_s3"></a>
User action classes</h1>
<p>In the main () of <a class="el" href="../../d6/df2/RE04_8cc.html" title="Main program of the runAndEvent/RE04 example.">RE04.cc</a>, three user action classes, i.e. <a class="el" href="../../dd/d3e/classRE04EventAction.html" title="User event action class.">RE04EventAction</a>, <a class="el" href="../../d8/d84/classRE04TrackingAction.html" title="User tracking action class.">RE04TrackingAction</a> and <a class="el" href="../../d0/df9/classRE04SteppingAction.html" title="User stepping action class.">RE04SteppingAction</a>, are commented out. By using <a class="el" href="../../d0/df9/classRE04SteppingAction.html" title="User stepping action class.">RE04SteppingAction</a>, you will see a material name which a track sees for each step. By using <a class="el" href="../../dd/d3e/classRE04EventAction.html" title="User event action class.">RE04EventAction</a> and <a class="el" href="../../d8/d84/classRE04TrackingAction.html" title="User tracking action class.">RE04TrackingAction</a>, you will see the similar information for all trajectories of one event. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
