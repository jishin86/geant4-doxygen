<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example extensibleFactory</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example extensibleFactory </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>R. Hatcher <br  />
Fermilab <br  />
(based on Hadr00 by V. Ivantchenko, CERN)</dd></dl>
<p>Examples in the physicslist category show the possible ways how to define a physics list from Geant4 physics constructors. This example demonstrates the usage of <a class="el" href="../../dc/d6f/classg4alt_1_1G4PhysListFactory.html">g4alt::G4PhysListFactory</a> to build a concrete physics list.</p>
<p>Physics List can be defined by its name given by the -p argument of the of the run command or by the PHYSLIST environment variable.</p>
<pre class="fragment">   ./extensibleFactory -m my.macro [ -p QGSP_BERT ] \
        [ -v | --verbose ] [ -h | --help ]
</pre><p>By default, FTFP_BERT Physics List will be instantiated if -p argument is not set and the PHYSLIST environment variable is not defined. This is the system default, but can be overridden using the SetDefaultReferencePhysList() method on the factory (see the code).</p>
<p>The extensible factory allows users to define and register their own physics lists. This example shows the addtional a new list "MySpecialPhysList".</p>
<pre class="fragment">   ./extensibleFactory -m run.mac -p MySpecialPhysList
</pre><p>The extensible factory also allows for the extension of lists by adding (using "+" as a separator) or replacing (using "_" as a separator) specific physics constructors. These can be specified by pre-defining a short name (e.g. RADIO for <a class="el" href="../../db/d82/classG4RadioactiveDecayPhysics.html">G4RadioactiveDecayPhysics</a>) or providing the full class name.</p>
<pre class="fragment">   ./extensibleFactory -m run.mac -p FTFP_BERT_EMX+G4OpticalPhysics+RADIO
</pre><p>uses the FTFP_BERT physics list as a base</p><ul>
<li>replaces the list's standard EM portion with <a class="el" href="../../df/d38/classG4EmStandardPhysics__option2.html">G4EmStandardPhysics_option2</a> ( standard EMX extension )</li>
<li>adds <a class="el" href="../../d1/dbc/classG4OpticalPhysics.html">G4OpticalPhysics</a></li>
<li>adds <a class="el" href="../../db/d82/classG4RadioactiveDecayPhysics.html">G4RadioactiveDecayPhysics</a> (RADIO defined in code to map to this)</li>
</ul>
<p>The same experimental setup is used for all examples in the physicslist category:</p>
<h1><a class="anchor" id="extensibleFactory_s1"></a>
Detector description</h1>
<p>The geometry (defined in the <a class="el" href="../../dc/d5b/classDetectorConstruction.html" title="Simple detector construction with a box volume placed in a world.">DetectorConstruction</a> class) consists in a box of scintillator material (CsI) followed by a thin box of air (screen) which is used to simplify scoring.</p>
<h1><a class="anchor" id="extensibleFactory_s2"></a>
Primary generator</h1>
<p>The primary generator is defined with usage of <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a>. The default particle is proton which hits the box perpendicular to the input face. The type of the particle and its energy are set in the <a class="el" href="../../d7/d27/classPrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">PrimaryGeneratorAction</a> class, and can be changed via the G4 built-in commands of the <a class="el" href="../../dc/ded/classG4ParticleGun.html">G4ParticleGun</a> class.</p>
<h1><a class="anchor" id="extensibleFactory_s3"></a>
Scoring (ntuples)</h1>
<p>The screen volume is associated with a sensitive detector, <a class="el" href="../../d2/d4e/classScreenSD.html">ScreenSD</a>, which accounts the following particle properties:</p><ul>
<li>trackID</li>
<li>particle PDG encoding</li>
<li>particle kinetic energy</li>
<li>particle X,Y position</li>
<li>particle time</li>
</ul>
<p>The scored quantities are filled in the Screen ntuple, which is defined using G4AnalysisManager in <a class="el" href="../../d7/df6/classRunAction.html" title="Run action class.">RunAction</a> class. The ntuple is saved in a Root file, which name is set to be equal to the example name in main () function.</p>
<h1><a class="anchor" id="extensibleFactory_s4"></a>
How to build</h1>
<p>An additional step is needed when building the example with GNUmake due to using the extra shared directory: </p><pre class="fragment"> % cd path_to_example/example
 % gmake setup
 % gmake
</pre><p>This will copy the files from shared in the example include and src; to remove these files: </p><pre class="fragment"> % gmake clean_setup
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
