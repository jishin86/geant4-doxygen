<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Geant4: Example DICOM2</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Geant4
   &#160;<span id="projectnumber">10.05.p01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Example DICOM2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example demonstrates how to inherit from the DICOM example. For more information of the DICOM problem, see the documentation for the DICOM example</p>
<h1><a class="anchor" id="DICOM2_s0"></a>
Introduction</h1>
<p>This example demonstrates how to inherit from the DICOM example. For more information on the DICOM example, see the README in the DICOM example. In addition to demonstrating inheritance from DICOM, this example demonstrates method for memory savings, scoring into a sequential container instead of an associative container, accumulating the scoring with a statistics class instead of a simple floating point, and generic iteration over the variety of scoring container storage variants provided by Geant4</p>
<h1><a class="anchor" id="DICOM2_s1"></a>
Configuration and Building</h1>
<p>The DICOM example should be built and installed. By default, the CMake configuration for the DICOM example will install to the same directory as ${Geant4_DIR}.</p>
<p>When configurating this example, provide DICOM_DIR=&lt;path-to-cmake-configuration&gt;, e.g.</p>
<p>$ cmake -DGeant4_DIR=/usr/local/lib/Geant4-10.5.0 -DDICOM_DIR=/usr/local/lib/Geant4-10.5.0 &lt;path-to-source&gt;</p>
<p>This example will enable DCMTK and/or DICOM_HEAD based on the configuration set when the DICOM example was installed. The files "Data.dat.old" and "Data.dat.new" follow the same pattern of being copied to "Data.dat" in the binary directory that is detailed out in Section 4 of the DICOM README.</p>
<h1><a class="anchor" id="DICOM2_s2"></a>
Class Overview</h1>
<ul>
<li><a class="el" href="../../dc/d99/classDicom2Run.html" title="Dicom2Run class.">Dicom2Run</a>:<ul>
<li>How to save memory with <a class="el" href="../../db/d45/classG4VTHitsVector.html">G4VTHitsVector</a> instead of <a class="el" href="../../d7/d42/classG4THitsMap.html">G4THitsMap</a></li>
<li>How to implement <a class="el" href="../../db/d45/classG4VTHitsVector.html">G4VTHitsVector</a> with objects instead of pointers (saving more memory)</li>
<li>How to use <a class="el" href="../../da/df3/classG4StatAnalysis.html">G4StatAnalysis</a> within <a class="el" href="../../db/d45/classG4VTHitsVector.html">G4VTHitsVector</a> (or <a class="el" href="../../d2/d3e/classG4VTHitsMap.html">G4VTHitsMap</a>) to obtain per-voxel statistics<ul>
<li><a class="el" href="../../da/df3/classG4StatAnalysis.html">G4StatAnalysis</a> provides standard deviation, mean, variance, relative error, FOM, r2int, r2eff, coefficient of variant, and efficiency in a class that consumes significantly less memory than <a class="el" href="../../d2/dae/classG4ConvergenceTester.html">G4ConvergenceTester</a></li>
</ul>
</li>
<li>Implements scoring accumulation over the course of a run in <a class="el" href="../../db/d45/classG4VTHitsVector.html">G4VTHitsVector</a>&lt;<a class="el" href="../../da/df3/classG4StatAnalysis.html">G4StatAnalysis</a>, std::vector&lt;G4StatAnalysis&gt;&gt; Dicom2RunVector<ul>
<li>The first template parameter is the type of the data (i.e. double, <a class="el" href="../../da/df3/classG4StatAnalysis.html">G4StatAnalysis</a>, etc.) and the second template parameter is the underlying storage type &ndash; by specifying std::vector&lt;G4StatAnalysis&gt;, we override the default storage format of std::vector&lt;G4StatAnalysis*&gt; which results in memory savings</li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="../../d0/dfb/classDicom2RunAction.html">Dicom2RunAction</a>:<ul>
<li>Overloads EndOfRunAction(const G4Run*) to print out the same quantities as DICOM but with the <a class="el" href="../../da/df3/classG4StatAnalysis.html">G4StatAnalysis</a> class</li>
<li>Demonstrates generic iteration of hits containers<ul>
<li>The new iteration scheme over hits containers works regardless of whether the underlying storage type is a map, multimap, unordered_map, unordered_multimap, vector, or deque and regardless of whether the data type stored in the sequential container types (vector and deque) are an object or or a pointer to an object</li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="../../d9/db3/classDicom2PrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">Dicom2PrimaryGeneratorAction</a>:<ul>
<li>Minor variation of <a class="el" href="../../df/d73/classDicomPrimaryGeneratorAction.html">DicomPrimaryGeneratorAction</a> that randomizes the initial direction of the particle</li>
</ul>
</li>
<li><a class="el" href="../../d0/d60/classDicom2ActionInitialization.html" title="Action initialization class.">Dicom2ActionInitialization</a>:<ul>
<li>In addition <a class="el" href="../../d0/dfb/classDicom2RunAction.html">Dicom2RunAction</a> and <a class="el" href="../../d9/db3/classDicom2PrimaryGeneratorAction.html" title="The primary generator action class with particle gun.">Dicom2PrimaryGeneratorAction</a>, this class instantiates <a class="el" href="../../d0/d03/classDicomEventAction.html">DicomEventAction</a> </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
